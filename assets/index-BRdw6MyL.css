.footer{max-width:var(--layout-max-width, 1024px);margin:var(--space-6, 32px) auto var(--space-5, 24px);padding:0 var(--space-4, 16px);display:grid;gap:var(--space-1, 6px);color:var(--color-text-muted, #6b7280);font-size:12px;line-height:1.6}@media(max-width:480px){.footer{text-align:center;justify-items:center}}.footer__links{display:flex;flex-wrap:wrap;gap:var(--space-2, 8px);align-items:center;justify-content:center}.footer__link{color:var(--color-text-muted, #6b7280);text-decoration:none}.footer__link:hover,.footer__link:focus-visible{text-decoration:underline;color:var(--color-text, #374151)}.footer__dot,.footer__sep{color:var(--color-text-subtle, #9ca3af)}.footer__meta{display:flex;flex-wrap:wrap;gap:var(--space-2, 8px);align-items:center;justify-content:center}.footer__copy,.footer__ver{color:var(--color-text-muted, #6b7280)}.footer__tagline{margin:0;color:var(--color-text-subtle, #9ca3af)}.theme-dark .footer,.theme-dark .footer__link{color:var(--color-text-subtle, #9ca3af)}.theme-dark .footer__link:hover,.theme-dark .footer__link:focus-visible{color:var(--color-text, #d1d5db)}.theme-dark .footer__dot,.theme-dark .footer__sep{color:var(--color-border-subtle, #6b7280)}.theme-dark .footer__copy,.theme-dark .footer__ver,.theme-dark .footer__tagline{color:var(--color-text-subtle, #9ca3af)}.bn-wrap{width:100%;max-width:480px;margin:0 auto;padding-bottom:env(safe-area-inset-bottom,0px)}.bn-bar{list-style:none;margin:0;padding:10px 24px;height:var(--bn-height, 72px);display:flex;align-items:center;justify-content:space-between;gap:8px;background:var(--color-bottom-nav-bg, #05060a);border-top:1px solid var(--color-bottom-nav-border, rgba(255, 255, 255, .06));box-shadow:none}.bn-item{flex:1 1 0;display:flex;justify-content:center}.bn-link,.bn-link--disabled{min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center;border-radius:16px;text-decoration:none;color:var(--color-bottom-nav-icon-inactive, #9ca3af);transition:color .16s ease,background .16s ease,transform .12s ease;outline:none}.bn-link.is-active,.bn-link:hover{color:var(--color-bottom-nav-icon-active, #0a84ff)}.bn-link:focus-visible{background:#0a84ff29;box-shadow:0 0 0 2px #0a84ff59}.bn-icon{font-size:24px;line-height:1}.bn-item--accent .bn-link{transform:translateY(-2px)}.bn-item--accent .bn-link.is-active{transform:translateY(-3px)}.bn-item--disabled .bn-link,.bn-link--disabled{opacity:.4;cursor:default;pointer-events:none;box-shadow:none;transform:none}.bn-item--disabled .bn-link:hover,.bn-link--disabled:hover{color:var(--color-bottom-nav-icon-inactive, #9ca3af)}.bn-safezone{display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.sakura-rain{position:fixed;inset:0;z-index:5;pointer-events:none;overflow:hidden;opacity:var(--sakura-opacity, .7)}.sakura-petal{position:absolute;left:var(--x);top:-10vh;width:calc(var(--space-2) * 2);height:calc(var(--space-2) * 2);border-radius:999px 999px 999px 0;background:var(--color-sakura, rgba(255, 183, 197, .9));box-shadow:var(--shadow-soft);transform:translateZ(0) rotate(var(--rot)) scale(var(--scale));will-change:transform;animation:sakura-fall var(--dur) linear var(--delay) infinite,sakura-sway calc(var(--dur) * .7) ease-in-out var(--delay) infinite}@keyframes sakura-fall{0%{transform:translateZ(0) rotate(var(--rot)) scale(var(--scale))}to{transform:translate3d(0,120vh,0) rotate(calc(var(--rot) + 220deg)) scale(var(--scale))}}@keyframes sakura-sway{0%{margin-left:0}50%{margin-left:var(--drift)}to{margin-left:0}}@media(prefers-reduced-motion:reduce){.sakura-rain{display:none}}.loader-wrap{display:grid;place-items:center;padding:24px}.loader-wrap--backdrop{position:fixed;inset:0;background:color-mix(in srgb,#000 10%,transparent);z-index:1000}.loader{width:220px;user-select:none;text-align:center;color:var(--fg, #111827)}.loader.sm{width:160px}.loader.lg{width:280px}.loader__svg{display:block;margin:0 auto;height:auto}.loader__text{margin-top:10px;font-size:12px;color:color-mix(in srgb,currentColor 70%,transparent)}.book{fill:#60a5fa}.book-side{fill:#3b82f6}.ribbon{fill:#f43f5e}.eye,.mouth,.shuriken{fill:currentColor}.shadow{fill:#0000001f}.page-stroke{fill:none;stroke:#fff;stroke-width:2.5;stroke-linecap:round;stroke-dasharray:120;stroke-dashoffset:120;animation:draw 2.4s ease-in-out infinite}.book,.book-side,.eye,.mouth,.ribbon,.dot-1,.dot-2,.dot-3,.shuriken{animation:float 3s ease-in-out infinite}.shadow{animation:shadow 3s ease-in-out infinite}.eye--left,.eye--right{transform-origin:center}.eye--left{animation:blink 4s infinite}.eye--right{animation:blink 4.2s infinite .2s}.dot{fill:#111827}.dot-1{animation:bounce 1.2s infinite}.dot-2{animation:bounce 1.2s infinite .2s}.dot-3{animation:bounce 1.2s infinite .4s}.shuriken{transform-box:fill-box;transform-origin:center;animation:spin 1.8s linear infinite}.theme-dark .loader{--fg: #e5e7eb;color:var(--fg)}.theme-dark .book{fill:#1f2937}.theme-dark .book-side{fill:#111827}.theme-dark .ribbon{fill:#f472b6}.theme-dark .dot{fill:var(--fg)}.theme-dark .shadow{fill:#00000059}.theme-dark .page-stroke{stroke:#d1d5db}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}@keyframes shadow{0%,to{transform:scale(1);opacity:.34}50%{transform:scale(.92);opacity:.22}}@keyframes blink{0%,92%,to{transform:scaleY(1)}95%{transform:scaleY(.2)}}@keyframes bounce{0%,to{transform:translateY(0);opacity:.8}50%{transform:translateY(-8px);opacity:1}}@keyframes spin{to{transform:rotate(360deg)}}@keyframes draw{0%{stroke-dashoffset:120;opacity:0}20%{opacity:1}50%{stroke-dashoffset:0}80%{opacity:1}to{stroke-dashoffset:120;opacity:0}}@media(prefers-reduced-motion:reduce){.loader *{animation:none!important}}.catPng{position:relative;width:100%;height:100%;line-height:0;display:block}.catPng__head,.catPng__body{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;object-position:center;display:block;user-select:none;-webkit-user-drag:none}.catPng--head .catPng__body{display:none}.pf{width:100%;max-width:100%;overflow-x:hidden;padding:calc(var(--space-8) * 2);background:var(--color-bg);color:var(--color-text);--pf-accent-bg: color-mix( in oklab, var(--color-success-surface) 26%, var(--color-surface) );--pf-accent-fg: color-mix( in oklab, var(--color-text) 78%, var(--color-success-surface) );--pf-card-bg: color-mix( in oklab, var(--color-surface) 92%, var(--color-surface-2) );--pf-card-border: color-mix(in oklab, var(--color-border) 72%, transparent)}.pf__top{display:flex;align-items:center;gap:calc(var(--space-8) * 2)}.pf__topSpacer{display:none}.pf__iconBtn{width:calc(var(--space-8) * 5);height:calc(var(--space-8) * 5);border-radius:calc(var(--radius-16) * 999);border:var(--space-1) solid var(--pf-card-border);background:var(--pf-card-bg);box-shadow:var(--shadow-1);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:transform var(--motion-200) cubic-bezier(.2,.8,.2,1)}.pf__iconBtn:active{transform:scale(.98)}.pf__iconBtn:focus-visible{outline:none;box-shadow:var(--shadow-2)}.pf__iconSvg{width:calc(var(--space-8) * 3);height:calc(var(--space-8) * 3);color:var(--color-text)}.pf__identity{flex:1 1 auto;min-width:0;display:flex;align-items:center;gap:calc(var(--space-8) * 2);padding:calc(var(--space-8) * 1.5);border-radius:var(--radius-16);border:var(--space-1) solid var(--pf-card-border);background:var(--pf-card-bg);box-shadow:var(--shadow-1)}.pf__avatar{width:calc(var(--space-8) * 6);height:calc(var(--space-8) * 6);border-radius:var(--radius-16);overflow:hidden;background:var(--color-surface-2);border:var(--space-1) solid var(--pf-card-border);box-shadow:var(--shadow-1);position:relative;flex:0 0 auto;display:grid;place-items:center}.pf__catAvatar{width:100%;height:100%}.pf__avatarFallback{position:absolute;inset:0;display:grid;place-items:center;font-weight:800;color:var(--color-text);opacity:0;pointer-events:none}.pf__who{min-width:0;display:flex;flex-direction:column;gap:calc(var(--space-8) * .5)}.pf__name{font-weight:900;font-size:calc(var(--space-8) * 2);line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pf__email{font-size:calc(var(--space-8) * 1.5);opacity:.7;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pf__stats{margin-top:calc(var(--space-8) * 2);display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:calc(var(--space-8) * 2)}.pf__statCard{position:relative;border-radius:var(--radius-16);border:var(--space-1) solid var(--pf-card-border);background:var(--pf-card-bg);box-shadow:var(--shadow-1);padding:calc(var(--space-8) * 2.5) calc(var(--space-8) * 2);min-height:calc(var(--space-8) * 15);min-width:0;display:grid;align-content:start;gap:calc(var(--space-8) * 1)}.pf__statCard>.pf__statBadge,.pf__statBadgeWrap{position:absolute;top:calc(var(--space-8) * 2);left:calc(var(--space-8) * 2)}.pf__statBadge{width:calc(var(--space-8) * 5);height:calc(var(--space-8) * 5);border-radius:calc(var(--radius-16) * 999);display:grid;place-items:center;border:var(--space-1) solid var(--pf-card-border);box-shadow:var(--shadow-1)}.pf__statBadge--success{background:var(--pf-accent-bg);color:var(--pf-accent-fg)}.pf__statBadge--neutral{background:color-mix(in oklab,var(--color-surface-2) 70%,var(--pf-card-bg));color:color-mix(in oklab,var(--color-text) 88%,var(--color-surface-2))}.pf__badgeSvg{width:calc(var(--space-8) * 2.5);height:calc(var(--space-8) * 2.5)}.pf__statValue{margin-top:calc(var(--space-8) * 4.5);font-weight:900;font-size:calc(var(--space-8) * 4);line-height:1.05;letter-spacing:-.01em}.pf__statLabel{font-size:calc(var(--space-8) * 1.5);opacity:.7}.pf__jlpt{margin-top:calc(var(--space-8) * 2);padding:calc(var(--space-8) * 2);border-radius:var(--radius-16);border:var(--space-1) solid var(--pf-card-border);background:var(--pf-card-bg);box-shadow:var(--shadow-1)}.pf__jlptTitle{margin:0 0 calc(var(--space-8) * 1.5);font-size:calc(var(--space-8) * 2);font-weight:900}.pf__jlptList{display:grid;gap:calc(var(--space-8) * 1.5)}.pf__jlptRow{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:calc(var(--space-8) * 1.5);min-width:0}.pf__jlptLeft{display:flex;gap:calc(var(--space-8) * 1);align-items:baseline;min-width:0}.pf__jlptLevel{font-weight:900}.pf__jlptLabel{opacity:.7;font-size:calc(var(--space-8) * 1.5)}.pf__jlptBarTrack{height:calc(var(--space-8) * 1.25);border-radius:calc(var(--radius-16) * 999);background:color-mix(in oklab,var(--color-surface-2) 70%,var(--pf-card-bg));overflow:hidden;border:var(--space-1) solid var(--pf-card-border)}.pf__jlptBarFill{height:100%;border-radius:calc(var(--radius-16) * 999);background:color-mix(in oklab,var(--color-success-surface) 70%,var(--color-surface));transition:width var(--motion-200) cubic-bezier(.2,.8,.2,1)}.pf__jlptPct{font-weight:800;opacity:.8}@media(max-width:374px){.pf__stats{grid-template-columns:1fr}.pf__jlptRow{grid-template-columns:1fr;gap:calc(var(--space-8) * 1)}.pf__jlptPct{justify-self:end}}.pfe{width:100%;max-width:100%;overflow-x:hidden;padding:calc(var(--space-8) * 2);background:var(--color-bg);color:var(--color-text);--pfe-accent-bg: color-mix( in oklab, var(--color-success-surface) 22%, var(--color-surface) );--pfe-accent-fg: color-mix( in oklab, var(--color-text) 82%, var(--color-success-surface) );--pfe-card-bg: color-mix( in oklab, var(--color-surface) 92%, var(--color-surface-2) );--pfe-card-border: color-mix( in oklab, var(--color-border) 72%, transparent )}.pfe__top{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:calc(var(--space-8) * 2);margin-bottom:calc(var(--space-8) * 2)}.pfe__titleWrap{min-width:0}.pfe__title{font-weight:900;font-size:calc(var(--space-8) * 2.25);line-height:1.2;letter-spacing:-.01em}.pfe__subtitle{margin-top:calc(var(--space-8) * .5);font-size:calc(var(--space-8) * 1.4);opacity:.72;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pfe__iconBtn{width:calc(var(--space-8) * 5);height:calc(var(--space-8) * 5);border-radius:calc(var(--radius-16) * 999);border:var(--space-1) solid var(--pfe-card-border);background:var(--pfe-card-bg);box-shadow:var(--shadow-1);display:grid;place-items:center;cursor:pointer;transition:transform var(--motion-200) cubic-bezier(.2,.8,.2,1)}.pfe__iconBtn:active{transform:scale(.98)}.pfe__iconBtn:focus-visible{outline:none;box-shadow:var(--shadow-2)}.pfe__iconSvg{width:calc(var(--space-8) * 3);height:calc(var(--space-8) * 3)}.pfe__saveBtn{height:calc(var(--space-8) * 5);padding:0 calc(var(--space-8) * 1.5);border-radius:calc(var(--radius-16) * 999);border:var(--space-1) solid var(--pfe-card-border);background:var(--pfe-accent-bg);color:var(--pfe-accent-fg);box-shadow:var(--shadow-1);display:inline-flex;align-items:center;gap:calc(var(--space-8) * .75);cursor:pointer;transition:transform var(--motion-200) cubic-bezier(.2,.8,.2,1);font-weight:900}.pfe__saveBtn:active{transform:scale(.99)}.pfe__saveBtn:disabled{opacity:.55;cursor:not-allowed}.pfe__saveBtn:focus-visible{outline:none;box-shadow:var(--shadow-2)}.pfe__saveSvg{width:calc(var(--space-8) * 2.6);height:calc(var(--space-8) * 2.6)}.pfe__saveText{font-size:calc(var(--space-8) * 1.5)}.pfe__card{border-radius:var(--radius-16);border:var(--space-1) solid var(--pfe-card-border);background:var(--pfe-card-bg);box-shadow:var(--shadow-1);padding:calc(var(--space-8) * 2)}.pfe__stack{margin-top:calc(var(--space-8) * 2);display:grid;gap:calc(var(--space-8) * 2)}.pfe__preview{display:flex;align-items:center;gap:calc(var(--space-8) * 2);min-width:0}.pfe__previewAvatar{width:calc(var(--space-8) * 7);height:calc(var(--space-8) * 7);border-radius:calc(var(--radius-16) * 999);overflow:hidden;border:var(--space-1) solid var(--pfe-card-border);background:color-mix(in oklab,var(--color-surface-2) 70%,var(--pfe-card-bg));box-shadow:var(--shadow-1);flex:0 0 auto;display:grid;place-items:center;position:relative;line-height:0}.pfe__previewCat{position:absolute;inset:0;width:100%;height:100%}.pfe__previewCat.catAsset{position:absolute;inset:0;width:100%;height:100%;background:transparent;border:none;box-shadow:none;border-radius:0}.pfe__previewCat img{width:100%;height:100%;object-fit:contain;object-position:center;display:block}.pfe__previewText{min-width:0;display:grid;gap:calc(var(--space-8) * .5)}.pfe__previewName{font-weight:900;font-size:calc(var(--space-8) * 2);line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pfe__previewHint{font-size:calc(var(--space-8) * 1.4);opacity:.72}.pfe__label{display:block;font-weight:900;font-size:calc(var(--space-8) * 1.6);margin-bottom:calc(var(--space-8) * 1)}.pfe__field{border-radius:var(--radius-16);border:var(--space-1) solid var(--pfe-card-border);background:color-mix(in oklab,var(--color-surface) 96%,var(--color-surface-2));box-shadow:inset 0 0 0 var(--space-1) transparent;padding:calc(var(--space-8) * 1.25) calc(var(--space-8) * 1.5)}.pfe__input{width:100%;border:none;outline:none;background:transparent;color:var(--color-text);font-size:calc(var(--space-8) * 1.75);line-height:1.3;font-weight:800}.pfe__help{margin-top:calc(var(--space-8) * 1);font-size:calc(var(--space-8) * 1.35);opacity:.7}.pfe__row{display:flex;align-items:flex-start;justify-content:space-between;gap:calc(var(--space-8) * 2)}.pfe__grid{margin-top:calc(var(--space-8) * 1.5);display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:calc(var(--space-8) * 1.25)}.pfe__variant{border:var(--space-1) solid var(--pfe-card-border);border-radius:var(--radius-16);background:color-mix(in oklab,var(--color-surface) 94%,var(--color-surface-2));box-shadow:var(--shadow-1);padding:calc(var(--space-8) * 1);cursor:pointer;transition:transform var(--motion-200) cubic-bezier(.2,.8,.2,1);min-width:0}.pfe__variant:active{transform:scale(.99)}.pfe__variant:focus-visible{outline:none;box-shadow:var(--shadow-2)}.pfe__variantInner{width:100%;aspect-ratio:1 / 1;border-radius:calc(var(--radius-16) * 999);overflow:hidden;border:var(--space-1) solid var(--pfe-card-border);background:var(--pfe-accent-bg);display:grid;place-items:center;position:relative;line-height:0}.pfe__variantCat{position:absolute;inset:0;width:100%;height:100%}.pfe__variantCat.catAsset{position:absolute;inset:0;width:100%;height:100%;background:transparent;border:none;box-shadow:none;border-radius:0}.pfe__variantCat img{width:100%;height:100%;object-fit:contain;object-position:center;display:block}.pfe__variant.is-selected{border-color:color-mix(in oklab,var(--color-success-surface) 55%,var(--pfe-card-border));background:color-mix(in oklab,var(--pfe-accent-bg) 55%,var(--pfe-card-bg))}.pfe__variant.is-selected .pfe__variantInner{border-color:color-mix(in oklab,var(--color-success-surface) 55%,var(--pfe-card-border))}.pfe__bottom{display:grid;gap:calc(var(--space-8) * 1.25);padding-bottom:calc(var(--space-8) * 2)}.pfe__primary{height:calc(var(--space-8) * 6);border-radius:calc(var(--radius-16) * 999);border:var(--space-1) solid var(--pfe-card-border);background:var(--pfe-accent-bg);color:var(--pfe-accent-fg);box-shadow:var(--shadow-1);font-weight:900;font-size:calc(var(--space-8) * 1.75);cursor:pointer;transition:transform var(--motion-200) cubic-bezier(.2,.8,.2,1)}.pfe__primary:active{transform:scale(.99)}.pfe__primary:disabled{opacity:.55;cursor:not-allowed}.pfe__primary:focus-visible{outline:none;box-shadow:var(--shadow-2)}.pfe__ghost{height:calc(var(--space-8) * 5.5);border-radius:calc(var(--radius-16) * 999);border:var(--space-1) solid var(--pfe-card-border);background:transparent;color:var(--color-text);font-weight:900;font-size:calc(var(--space-8) * 1.6);cursor:pointer}.pfe__ghost:focus-visible{outline:none;box-shadow:var(--shadow-2)}.pfe__srOnly{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media(max-width:374px){.pfe__grid{grid-template-columns:repeat(3,minmax(0,1fr))}.pfe__saveText{display:none}}.auth-page{min-height:100%;display:flex;justify-content:center;align-items:center;padding:var(--space-6, 24px);background:var(--color-bg-page, var(--bg));color:var(--color-text-primary, var(--text))}.auth-shell{width:100%;max-width:420px;display:flex;flex-direction:column;gap:var(--space-4, 16px)}.auth-card{background:var(--color-surface, #ffffff);border-radius:var(--radius-2xl, 24px);box-shadow:var(--shadow-soft, 0 8px 24px rgba(0, 0, 0, .08));padding:var(--space-5, 20px) var(--space-5, 20px) var(--space-6, 24px);display:flex;flex-direction:column;gap:var(--space-4, 16px)}[data-theme=dark] .auth-card{background:var(--color-surface-dark, #111318);box-shadow:var(--shadow-soft-dark, 0 10px 30px rgba(0, 0, 0, .7))}.auth-tabs{display:flex;padding:var(--space-1, 4px);border-radius:var(--radius-xl, 18px);background:var(--color-bg-subtle, rgba(0, 0, 0, .04))}.auth-tab{flex:1;border:none;background:transparent;color:inherit;font-size:.95rem;padding:var(--space-2, 8px) var(--space-3, 12px);border-radius:var(--radius-lg, 999px);cursor:pointer;transition:background var(--motion-fast, .18s) cubic-bezier(.2,.8,.2,1),transform var(--motion-fast, .18s) cubic-bezier(.2,.8,.2,1)}.auth-tab.is-active{background:var(--color-accent-soft, rgba(10, 132, 255, .12));color:var(--color-accent, #0a84ff)}.auth-tab:focus-visible{outline:2px solid var(--color-accent, #0a84ff);outline-offset:2px}.auth-divider{display:flex;align-items:center;gap:var(--space-2, 8px);font-size:.8rem;color:var(--color-text-secondary, rgba(0, 0, 0, .5))}.auth-divider:before,.auth-divider:after{content:"";flex:1;height:1px;background:var(--color-border-subtle, rgba(0, 0, 0, .08))}.auth-form{display:flex;flex-direction:column;gap:var(--space-3, 12px)}.auth-form input{width:100%;border-radius:var(--radius-lg, 12px);border:1px solid var(--color-border-subtle, rgba(0, 0, 0, .12));padding:var(--space-2, 8px) var(--space-3, 12px);font:inherit;font-size:16px;background:var(--color-input-bg, rgba(0, 0, 0, .02));color:var(--color-text-primary, currentColor);caret-color:var(--color-accent, #0a84ff)}[data-theme=dark] .auth-form input{background:var(--color-input-bg-dark, #111318);border-color:#ffffff29;color:var(--color-text-on-surface, var(--color-text-primary, #f5f5f7))}.auth-form input:focus-visible{outline:none;border-color:var(--color-accent, #0a84ff);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-accent, #0a84ff) 30%,transparent)}.password-field{display:flex;align-items:center;border-radius:var(--radius-lg, 12px);border:1px solid var(--color-border-subtle, rgba(0, 0, 0, .12));background:var(--color-input-bg, rgba(0, 0, 0, .02));padding-inline:var(--space-1, 4px)}[data-theme=dark] .password-field{background:var(--color-input-bg-dark, #111318);border-color:#ffffff29}.password-field input{border:none;background:transparent;padding-block:var(--space-2, 8px);padding-inline:var(--space-2, 8px);font-size:16px}.password-field input:focus-visible{outline:none}.password-field:focus-within{border-color:var(--color-accent, #0a84ff);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-accent, #0a84ff) 30%,transparent)}.toggle-pass{border:none;background:transparent;cursor:pointer;font-size:1.1rem;padding:var(--space-1, 4px) var(--space-2, 8px)}.auth-form button{margin-top:var(--space-2, 8px);width:100%;border:none;border-radius:var(--radius-lg, 12px);padding:var(--space-2, 8px) var(--space-3, 12px);font:inherit;font-size:16px;font-weight:600;cursor:pointer;background:var(--color-accent, #0a84ff);color:var(--color-on-accent, #ffffff);box-shadow:var(--shadow-button, 0 4px 12px rgba(10, 132, 255, .4));transition:transform var(--motion-fast, .16s) cubic-bezier(.2,.8,.2,1),box-shadow var(--motion-fast, .16s) cubic-bezier(.2,.8,.2,1),background var(--motion-fast, .16s) cubic-bezier(.2,.8,.2,1)}.auth-form button:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 18px #0a84ff8c}.auth-form button:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 6px #0a84ff59}.auth-form button:disabled{opacity:.6;cursor:default;box-shadow:none}.auth-error{margin-top:var(--space-3, 12px);padding:var(--space-2, 8px) var(--space-3, 12px);border-radius:var(--radius-md, 10px);background:color-mix(in srgb,var(--color-danger, #ff3b30) 10%,transparent);color:var(--color-danger, #ff3b30);font-size:.85rem}.auth-guest{display:flex;justify-content:center;margin-top:var(--space-2, 8px)}.guest-btn{border:none;background:transparent;color:var(--color-accent, #0a84ff);cursor:pointer;padding:var(--space-1, 4px) var(--space-2, 8px);border-radius:var(--radius-lg, 999px);font-size:.9rem}.guest-btn:hover:not(:disabled){background:color-mix(in srgb,var(--color-accent, #0a84ff) 10%,transparent)}.guest-btn:disabled{opacity:.5;cursor:default}@media(max-width:480px){.auth-page{padding:var(--space-4, 16px)}.auth-card{padding-inline:var(--space-4, 16px);border-radius:var(--radius-xl, 18px)}}@media(min-width:768px){.auth-page{padding:var(--space-8, 32px)}}@media(min-width:1024px){.auth-page{padding:var(--space-10, 40px)}}:root{-webkit-text-size-adjust:100%;text-size-adjust:100%}.tile{display:flex;flex-direction:column;align-items:center;gap:10px;padding:0;border:none;background:transparent;color:inherit;font:inherit;cursor:pointer;-webkit-tap-highlight-color:transparent}.tile:focus-visible{outline:none;box-shadow:var(--ring, 0 0 0 3px rgba(255, 153, 0, .35));border-radius:14px}.tile[disabled],.tile:disabled{cursor:not-allowed}.tile-surface{width:clamp(68px,18vw,90px);aspect-ratio:1 / 1;display:grid;place-items:center;border-radius:18px;background:radial-gradient(100% 120% at 30% 20%,#0f3a32,#0b2a25 60%,#0a2320);box-shadow:0 10px 30px #00000059,inset 0 1px #ffffff0f;outline:2px solid #967d47;outline-offset:-2px;border:1px solid rgba(0,0,0,.35);transition:transform .15s ease,box-shadow .2s ease,outline-color .2s ease}@media(hover:hover)and (pointer:fine){.tile:hover .tile-surface{transform:translateY(-1px)}}.tile:active .tile-surface{transform:translateY(0);box-shadow:0 6px 18px #00000059,inset 0 1px #ffffff0a}.tile-ico{font-size:clamp(22px,6vw,28px);line-height:1;color:#eaf2ef}.tile-label{margin-top:2px;max-width:10ch;text-align:center;color:#fff;font-weight:700;font-size:clamp(12px,3.2vw,14px);line-height:1.2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2;overflow:hidden;white-space:normal;word-break:keep-all}.tile-label br{display:inline}@media(max-width:360px){.tile-surface{width:72px}.tile-ico{font-size:22px}.tile-label{font-size:12px;max-width:9.5ch}}@media(prefers-reduced-motion:reduce){.tile-surface{transition:none!important}}.tile[disabled] .tile-surface,.tile[disabled] .tile-label{opacity:.6;filter:saturate(.6) brightness(.96)}.tile[disabled] .tile-surface{position:relative}.tile[disabled] .tile-surface:after{content:"ðŸ”’";position:absolute;top:8px;right:8px;font-size:.9rem;pointer-events:none;text-shadow:0 1px 2px rgba(0,0,0,.6)}.home-page{width:100%}.home-shell{display:flex;flex-direction:column;gap:var(--space-6);min-height:100%}.home-safe-top{display:none}.home-container{width:100%;max-width:1100px;margin-inline:auto;padding-inline:var(--space-4)}.home-section{padding-top:var(--space-2)}.home-gridFour{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:var(--space-3)}.home-ctaWrap{position:static;margin-top:var(--space-6);margin-bottom:var(--space-6)}.home-ctaBig{width:100%;min-height:calc(var(--space-10) * 1.5);border-radius:var(--radius-16);border:var(--line-1) solid var(--color-border);box-shadow:var(--shadow-1);background:var(--color-xp-accent);color:var(--color-header-fg);font-weight:800;letter-spacing:.2px;display:inline-flex;align-items:center;justify-content:center;transition:transform var(--motion-200) var(--motion-ease),filter var(--motion-200) var(--motion-ease)}.home-ctaBig:active{transform:translateY(calc(var(--line-1) * 2));filter:brightness(.98)}@media(min-width:768px){.home-container{padding-inline:var(--space-6)}.home-gridFour{gap:var(--space-4)}}.quiz-card{max-width:400px;margin:auto;padding:20px;border-radius:12px;background:#fff;box-shadow:0 0 10px #ccc;text-align:center}.quiz-options button{display:block;margin:10px auto;width:80%;padding:10px;font-size:16px;border-radius:8px;cursor:pointer}.correct{background-color:#90ee90}.wrong{background-color:salmon}.explanation{margin-top:15px;font-size:14px;color:#555}.quiz-page{padding:2rem;max-width:700px;margin:0 auto;text-align:center;font-family:Segoe UI,sans-serif}.quiz-page h2{font-size:1.8rem;margin-bottom:1.5rem;color:#333}.detail-overlay{position:fixed;inset:0;z-index:1000;background:rgba(var(--color-backdrop, 0, 0, 0),.28);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;justify-content:center;align-items:flex-start;padding:calc(env(safe-area-inset-top,0px) + var(--space-4)) var(--space-4) calc(env(safe-area-inset-bottom,0px) + var(--space-4));overscroll-behavior:none}.detail-modal{width:100%;max-width:640px;background:var(--color-surface);color:var(--color-text);border:var(--line-1) solid var(--color-border);box-shadow:var(--shadow-sm);border-radius:var(--radius-16);max-height:calc(100svh - env(safe-area-inset-top,0px) - env(safe-area-inset-bottom,0px) - (var(--space-4) * 2));display:flex;flex-direction:column;min-height:0;overflow:hidden}.detail-header{position:sticky;top:0;z-index:2;padding:var(--space-6) var(--space-5) var(--space-4);background:linear-gradient(180deg,color-mix(in oklab,var(--color-bg-elev, var(--color-surface)) 100%,transparent) 0%,var(--color-surface) 70%);border-bottom:var(--line-1) solid var(--color-border)}.detail-close{position:absolute;top:var(--space-3);right:var(--space-3);width:var(--space-10);height:var(--space-10);border-radius:var(--radius-pill);border:var(--line-1) solid var(--color-border);background:color-mix(in oklab,var(--color-surface) 88%,transparent);color:var(--color-text);box-shadow:var(--shadow-xs);display:grid;place-items:center}.detail-close:focus-visible{outline:2px solid var(--color-accent, var(--color-primary));outline-offset:2px}.detail-scroll{overflow-y:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;min-height:0;touch-action:pan-y}.detail-kanji{font-size:clamp(28px,6vw,40px);line-height:1.15;font-weight:700;letter-spacing:.01em;margin-bottom:var(--space-2)}.detail-reading{font-size:var(--fz-xl, 1.25rem);color:var(--color-text-subtle);line-height:1.3;margin-bottom:var(--space-2)}.detail-inline{display:inline-flex;align-items:center;gap:var(--space-2);font-size:var(--fz-md, 1rem);color:var(--color-text);padding:var(--space-1) var(--space-2);border:var(--line-1) solid var(--color-border);background:var(--color-bg-elev, var(--color-surface));border-radius:var(--radius-12)}.detail-pos{margin-top:var(--space-3);display:inline-block;font-size:var(--fz-xs, .875rem);color:var(--color-accent, var(--color-primary));background:color-mix(in oklab,var(--color-accent, var(--color-primary)) 12%,transparent);border:var(--line-1) solid color-mix(in oklab,var(--color-accent, var(--color-primary)) 28%,transparent);padding:var(--space-1) var(--space-2);border-radius:var(--radius-pill)}.detail-meta{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-4) var(--space-5);padding:var(--space-5)}@media(min-width:480px){.detail-meta{grid-template-columns:repeat(3,1fr)}}@media(min-width:768px){.detail-meta{grid-template-columns:repeat(5,1fr)}}.meta__label{font-size:var(--fz-xs, .875rem);color:var(--color-text-subtle);letter-spacing:.02em;margin-bottom:var(--space-1)}.meta__value{font-size:var(--fz-lg, 1rem);line-height:1.35;word-break:break-word}.meta__value.stars{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;letter-spacing:.12em;white-space:nowrap}.detail-examples{padding:var(--space-2) var(--space-5) var(--space-5);border-top:var(--line-1) solid var(--color-border)}.detail-examples h3{font-size:var(--fz-lg, 1rem);font-weight:700;margin:var(--space-3) 0 var(--space-3)}.example-block{border:var(--line-1) solid var(--color-border);background:var(--color-bg-elev, var(--color-surface));border-radius:var(--radius-12);padding:var(--space-3);box-shadow:var(--shadow-xs)}.example-block+.example-block{margin-top:var(--space-3)}.example-ja{font-size:var(--fz-lg, 1rem);line-height:1.6}ruby rt{font-size:.7em;color:var(--color-text-subtle)}.detail-conjugations,.detail-hints{padding:var(--space-2) var(--space-5) var(--space-5);border-top:var(--line-1) solid var(--color-border)}.detail-conjugations h3,.detail-hints h3{font-size:var(--fz-lg, 1rem);font-weight:700;margin:var(--space-3) 0 var(--space-3)}.conj-empty{font-size:var(--fz-md, 1rem);color:var(--color-text-subtle);border:var(--line-1) dashed var(--color-border);border-radius:var(--radius-12);padding:var(--space-3)}.hint-line{font-size:var(--fz-md, 1rem);line-height:1.6;color:var(--color-text);background:color-mix(in oklab,var(--color-accent, var(--color-primary)) 6%,transparent);border:var(--line-1) solid color-mix(in oklab,var(--color-accent, var(--color-primary)) 20%,transparent);border-radius:var(--radius-12);padding:var(--space-3)}.detail-bottomSpace{height:var(--space-6)}.word-card{width:min(92vw,22.5rem);margin:var(--space-4) auto var(--space-10);padding:var(--space-4) var(--space-4) var(--space-5);background:var(--color-surface);color:var(--color-text-primary);border:var(--stroke-2) solid var(--color-accent-gold);border-radius:var(--radius-xl);box-shadow:var(--shadow-card);text-align:center;position:relative;font-family:var(--font-sans);transition:transform var(--motion-fast) cubic-bezier(.2,.8,.2,1),opacity var(--motion-fast) cubic-bezier(.2,.8,.2,1);touch-action:pan-y}.word-card.word-card--swipe-left{transform:translate(calc(var(--space-10) * -1));opacity:0}.word-card.word-card--swipe-right{transform:translate(var(--space-10));opacity:0}.wc-hintLayer{position:absolute;inset:0;pointer-events:none;z-index:2}.wc-navBtn{position:absolute;top:50%;transform:translateY(-50%);width:calc(var(--space-11) * 1.35);height:calc(var(--space-11) * 1.35);border-radius:var(--radius-round);display:grid;place-items:center;padding:0;border:var(--stroke-1) solid var(--color-border-subtle);background:var(--color-elevated);color:var(--color-text-primary);box-shadow:var(--shadow-soft);cursor:pointer;z-index:3;opacity:.92;touch-action:pan-y;transition:background var(--motion-fast) cubic-bezier(.2,.8,.2,1),box-shadow var(--motion-fast) cubic-bezier(.2,.8,.2,1),opacity var(--motion-fast) cubic-bezier(.2,.8,.2,1)}.wc-navBtn:hover{background:var(--color-surface-alt);box-shadow:var(--shadow-soft-lg)}.wc-navBtn:active{opacity:.85;box-shadow:var(--shadow-soft)}.wc-navBtn--left{left:var(--space-2);animation:wcNavNudgeLeft var(--motion-slow) cubic-bezier(.2,.8,.2,1) infinite}.wc-navBtn--right{right:var(--space-2);animation:wcNavNudgeRight var(--motion-slow) cubic-bezier(.2,.8,.2,1) infinite}.wc-navIcon{font-size:calc(var(--font-size-2xl) * 1.35);font-weight:800;line-height:1}@keyframes wcNavNudgeRight{0%{transform:translateY(-50%) translate(0);opacity:.55}60%{transform:translateY(-50%) translate(var(--space-2));opacity:.95}to{transform:translateY(-50%) translate(0);opacity:.55}}@keyframes wcNavNudgeLeft{0%{transform:translateY(-50%) translate(0);opacity:.55}60%{transform:translateY(-50%) translate(calc(var(--space-2) * -1));opacity:.95}to{transform:translateY(-50%) translate(0);opacity:.55}}@media(prefers-reduced-motion:reduce){.wc-navBtn--left,.wc-navBtn--right{animation:none}}[data-theme=dark] .wc-navBtn{background:var(--color-surface);border-color:var(--color-border-subtle);color:var(--color-text-primary)}.wc-progress-row{margin-bottom:var(--space-2)}.wc-challenge-btn{position:absolute;bottom:calc(var(--space-7) * -1);left:50%;transform:translate(-50%);padding:var(--space-2) var(--space-5);border-radius:var(--radius-round);border:var(--stroke-1) solid var(--color-border-subtle);background:var(--color-elevated);color:var(--color-text-primary);font-size:var(--font-size-sm);font-weight:700;cursor:pointer;box-shadow:var(--shadow-soft);-webkit-tap-highlight-color:transparent;transition:background var(--motion-fast) cubic-bezier(.2,.8,.2,1),transform var(--motion-fast) cubic-bezier(.2,.8,.2,1),box-shadow var(--motion-fast) cubic-bezier(.2,.8,.2,1)}.wc-challenge-btn:hover{background:var(--color-surface-alt);transform:translate(-50%) translateY(calc(var(--space-1) * -1));box-shadow:var(--shadow-soft-lg)}.wc-challenge-btn:active{transform:translate(-50%) translateY(0);box-shadow:var(--shadow-soft)}.wc-head{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:var(--space-2);margin-bottom:var(--space-2);min-height:var(--space-9)}.wc-head-btn{height:var(--space-9);padding:0 var(--space-3);border-radius:var(--radius-md);border:var(--stroke-1) solid var(--color-border-subtle);background:var(--color-text-primary);color:var(--color-on-accent);font-weight:700;cursor:pointer;transition:transform var(--motion-fast) cubic-bezier(.2,.8,.2,1),filter var(--motion-fast) cubic-bezier(.2,.8,.2,1),background var(--motion-fast) cubic-bezier(.2,.8,.2,1);-webkit-tap-highlight-color:transparent}.wc-head-btn:hover{transform:translateY(calc(var(--space-1) * -1))}.wc-head-title{display:inline-flex;justify-content:center;align-items:center;gap:var(--space-2);font-weight:700;color:var(--color-text-muted);letter-spacing:.02em;min-height:var(--space-9)}.id-badge{display:inline-flex;align-items:center;padding:var(--space-1) var(--space-2);border-radius:var(--radius-md);border:var(--stroke-1) solid var(--color-border-subtle);background:var(--color-elevated);color:var(--color-text-muted);font-weight:700;font-size:var(--font-size-sm)}.wc-head-btn.right.is-added{background:var(--color-success);border-color:var(--color-success);box-shadow:0 0 0 var(--space-1) var(--color-success-soft) inset}.wc-plus{display:inline-block;font-weight:900;line-height:1}.pos-badge{display:inline-block;padding:var(--space-1) var(--space-2);border-radius:var(--radius-lg);font-size:var(--font-size-sm);font-weight:700;color:var(--color-on-accent);line-height:1;border:var(--stroke-1) solid transparent;box-shadow:var(--shadow-soft)}.pos-badge.noun{background:var(--color-pos-noun);border-color:var(--color-pos-noun-border)}.pos-badge.verb{background:var(--color-pos-verb);border-color:var(--color-pos-verb-border)}.pos-badge.adj{background:var(--color-pos-adj);border-color:var(--color-pos-adj-border)}.pos-badge.adv{background:var(--color-pos-adv);border-color:var(--color-pos-adv-border)}.pos-badge.particle{background:var(--color-pos-particle);border-color:var(--color-pos-particle-border)}.pos-badge.counter{background:var(--color-pos-counter);border-color:var(--color-pos-counter-border)}.pos-badge.default{background:var(--color-pos-default);border-color:var(--color-pos-default-border)}.kanji{font-size:var(--font-size-2xl);font-weight:800;color:var(--color-text-primary);margin:var(--space-2) 0 var(--space-1)}.reading{font-size:var(--font-size-lg);color:var(--color-text-secondary);margin-bottom:var(--space-3)}.meaning-box{margin-top:var(--space-4);padding:var(--space-3);border:var(--stroke-1) dashed var(--color-border-subtle);background:var(--color-surface-alt);color:var(--color-text-primary);border-radius:var(--radius-md);cursor:pointer;transition:background var(--motion-fast) cubic-bezier(.2,.8,.2,1),border-color var(--motion-fast) cubic-bezier(.2,.8,.2,1)}.meaning-box:hover{background:var(--color-surface)}.icon-btn{display:inline-grid;place-items:center;width:var(--space-10);height:var(--space-10);padding:0;border:none;border-radius:var(--radius-md);background:var(--color-button-ghost);color:var(--color-text-primary);cursor:pointer;transition:transform var(--motion-fast) cubic-bezier(.2,.8,.2,1),background var(--motion-fast) cubic-bezier(.2,.8,.2,1),opacity var(--motion-fast) cubic-bezier(.2,.8,.2,1)}.icon-btn:hover{background:var(--color-button-ghost-hover)}.icon-btn:active{transform:translateY(var(--space-1)) scale(var(--motion-press-scale))}.icon-btn:disabled{opacity:var(--opacity-disabled);cursor:not-allowed;transform:none}.audio-button{width:var(--space-11);height:var(--space-11);border-radius:var(--radius-lg)}.navigation{display:none}button:disabled{opacity:var(--opacity-disabled);cursor:not-allowed;transform:none!important}.wc-dots{display:flex;justify-content:center;align-items:center;gap:var(--space-2);margin-top:var(--space-4)}.wc-dot{width:var(--space-2);height:var(--space-2);border-radius:var(--radius-round);background:var(--color-border-subtle);opacity:.6}.wc-dot.is-active{width:var(--space-6);background:var(--color-brand);opacity:1}.wc-dot--ghost{opacity:.35}@media(max-width:22.5rem){.word-card{padding:var(--space-4) var(--space-3) var(--space-5)}}.wpb{width:100%;padding:var(--space-3, 12px) var(--space-4, 16px);border-radius:var(--radius-xl, 16px);background:var( --color-wpb-bg, color-mix(in srgb, var(--color-surface, #ffffff) 85%, #2af598 15%) );box-shadow:var( --shadow-soft, 0 8px 20px rgba(0, 0, 0, .06) );display:flex;flex-direction:column;gap:var(--space-2, 8px)}.wpb-bar{position:relative;width:100%;height:10px;border-radius:var(--radius-full, 999px);background:var(--color-wpb-track, #ffffff);overflow:hidden}.wpb-bar__fill{position:absolute;inset:0;width:var(--wpb-percent, 0%);border-radius:inherit;background:linear-gradient(90deg,var(--color-accent, #0a84ff),var(--color-accent-strong, #22c55e));transition:width var(--motion-medium, .22s cubic-bezier(.2, .8, .2, 1))}.wpb-meta{display:flex;align-items:baseline;justify-content:space-between;font-size:.85rem;color:var(--color-text-muted, #4b5563)}.wpb-meta__label{white-space:nowrap}.wpb-meta__strong{color:var(--color-accent-strong, #16a34a);font-weight:600}.wpb-meta__percent{font-variant-numeric:tabular-nums;font-weight:600}@media(max-width:414px){.wpb{padding-inline:var(--space-3, 12px);gap:var(--space-1, 4px)}.wpb-meta{font-size:.8rem}}.swipeHint{position:absolute;inset:auto var(--space-4) var(--space-4) var(--space-4);display:flex;justify-content:center;pointer-events:auto;background:transparent;border:0;padding:0}.swipeHint__pill{display:inline-flex;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);border-radius:var(--radius-16);border:1px solid var(--color-border);background:var(--color-surface);box-shadow:var(--shadow-1)}.swipeHint__text{font-weight:600;color:var(--color-text)}.swipeHint__chev{font-weight:700;color:var(--color-primary);transform:translate(0);animation:swipeHintMove 1.2s var(--motion-ease, cubic-bezier(.2,.8,.2,1)) infinite}@keyframes swipeHintMove{0%{transform:translate(0);opacity:.6}60%{transform:translate(var(--space-3));opacity:1}to{transform:translate(0);opacity:.6}}.swipeHint:focus-visible .swipeHint__pill{outline:2px solid var(--color-primary);outline-offset:var(--space-1)}[data-theme=dark] .swipeHint__pill{background:var(--color-surface)}.word-page{max-width:700px;margin:2rem auto;padding:1rem;text-align:center;color:var(--color-text, #eaeaea)}.word-page-head{display:flex;flex-direction:column;align-items:center;gap:var(--space-2, .5rem);margin-bottom:var(--space-3, .75rem)}.word-page-back{align-self:flex-start;display:inline-flex;align-items:center;gap:.25rem;padding:.3rem .8rem;border-radius:999px;border:1px solid var(--color-border-soft, rgba(255, 255, 255, .18));background:var(--color-surface-soft, rgba(0, 0, 0, .4));color:var(--color-text, #f9fafb);font-size:.8rem;line-height:1;cursor:pointer;transition:background-color var(--motion-fast, .18s) cubic-bezier(.2,.8,.2,1),transform var(--motion-fast, .18s) cubic-bezier(.2,.8,.2,1)}.word-page-back:hover{transform:translate(-1px);background:var(--color-surface-strong, rgba(0, 0, 0, .6))}.word-page-back:focus-visible{outline:2px solid var(--color-accent, #0a84ff);outline-offset:2px}.word-page-back-icon{font-size:.9rem}.word-page-title{font-size:clamp(1.4rem,4vw,2rem);font-weight:700;color:var(--color-accent-soft, #f5d97a)}.error-text{color:var(--color-danger, #e74c3c);font-size:1rem;margin-top:2rem}.word-page .word-card{margin:0 auto}@media(max-width:480px){.word-page{padding:.5rem}.word-page-head{align-items:stretch}.word-page-back{margin-bottom:.25rem}.word-page-title{text-align:center}}.result-container{max-width:500px;margin:40px auto;padding:30px;background-color:#fefefe;border-radius:20px;box-shadow:0 8px 25px #0000001a;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.result-title{font-size:2rem;margin-bottom:20px;color:#333}.score{font-size:1.5rem;color:#4caf50;margin-bottom:10px}.xp-earned{font-size:1.2rem;color:#2196f3;margin-bottom:10px}.level-info{font-size:1rem;color:#ff9800;margin-bottom:20px}.retry-button{padding:12px 24px;font-size:1rem;border:none;background-color:#4caf50;color:#fff;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.retry-button:hover{background-color:#43a047}.celebrate-emoji{font-size:3rem;animation:pop .4s ease-out forwards}@keyframes pop{0%{transform:scale(.7);opacity:0}to{transform:scale(1.1);opacity:1}}:root{--stroke-1: calc(var(--space-1) / 4);--stroke-2: calc(var(--space-1) / 2)}.lvl-wrap{position:relative;width:100%;padding:var(--space-6) var(--space-4) var(--space-6);background:var(--color-bg, var(--bg));color:var(--color-text, var(--text));box-sizing:border-box;overflow:hidden;text-align:center}.lvl-title{margin:0 0 var(--space-5);font-size:1.5rem;font-weight:800;letter-spacing:.2px}.lvl-list{display:flex;flex-direction:column;gap:var(--space-3);align-items:center}.lvl-item{width:min(92vw,360px);display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3) var(--space-4);background:var(--color-surface, var(--surface));border:var(--stroke-1) solid var(--color-border-subtle, var(--border));border-radius:var(--radius-xl);box-shadow:var(--shadow-soft);cursor:pointer;transition:transform var(--motion-fast) cubic-bezier(.2,.8,.2,1),box-shadow var(--motion-fast) cubic-bezier(.2,.8,.2,1),border-color var(--motion-fast) cubic-bezier(.2,.8,.2,1)}.lvl-item:hover{transform:translateY(calc(var(--space-1) / -4));border-color:var(--color-accent, var(--accent));box-shadow:var(--shadow-card)}.lvl-item:active{transform:translateY(0)}.lvl-item.is-selected{border-color:var(--color-accent, var(--accent));box-shadow:0 0 0 var(--stroke-2) color-mix(in srgb,var(--color-accent, var(--accent)) 22%,transparent),var(--shadow-card)}.radio{width:calc(var(--space-2) * 2.5);height:calc(var(--space-2) * 2.5);border-radius:999px;border:var(--stroke-2) solid var(--color-border-subtle, var(--border));background:var(--color-surface, var(--surface));position:relative;flex:0 0 auto;box-sizing:border-box}.lvl-item.is-selected .radio{border-color:var(--color-accent, var(--accent))}.radio.checked:after{content:"";position:absolute;inset:calc(var(--space-1) / 2);border-radius:999px;background:var(--color-accent, var(--accent))}.label{text-align:left;font-size:1rem;font-weight:700;color:var(--color-text, var(--text))}.safe-bottom{height:var(--space-10)}[data-theme=dark] .lvl-wrap{background:var(--color-bg, var(--bg))}[data-theme=dark] .lvl-item{background:var(--color-surface, var(--surface));border-color:color-mix(in srgb,var(--color-text, var(--text)) 18%,transparent)}[data-theme=dark] .radio{background:var(--color-surface, var(--surface));border-color:color-mix(in srgb,var(--color-text, var(--text)) 22%,transparent)}@media(max-width:480px){.lvl-title{font-size:1.3rem}.label{font-size:.95rem}}.lesson-select-page{max-width:960px;margin:0 auto;padding:16px 16px 24px;display:flex;flex-direction:column;gap:16px}.lesson-toolbar{position:sticky;top:0;z-index:5;display:flex;gap:8px;padding-bottom:8px;margin-bottom:8px;background:linear-gradient(to bottom,var(--bg) 70%,color-mix(in oklab,var(--bg) 0%,transparent))}.toggle{flex:1 1 0;min-height:36px;border-radius:999px;border:1px solid var(--border);background:var(--surface-2);color:var(--text-muted);font-size:var(--fs-sm);font-weight:600;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;-webkit-tap-highlight-color:transparent;transition:background .18s cubic-bezier(.2,.8,.2,1),color .18s cubic-bezier(.2,.8,.2,1),border-color .18s cubic-bezier(.2,.8,.2,1),transform .12s ease-out}.toggle.active{background:var(--accent);border-color:transparent;color:#fff;transform:translateY(-1px)}.toggle:focus-visible{outline:none;box-shadow:0 0 0 2px var(--focus-ring)}.lesson-blocks{display:grid;grid-template-columns:minmax(0,1fr);gap:12px;margin-bottom:12px}@media(min-width:600px){.lesson-blocks{grid-template-columns:repeat(2,minmax(0,1fr))}}.lesson-block{border:none;padding:14px 16px;border-radius:16px;background:var(--surface);color:var(--text);box-shadow:var(--shadow);text-align:left;display:flex;flex-direction:column;cursor:pointer;-webkit-tap-highlight-color:transparent;transition:transform .18s cubic-bezier(.2,.8,.2,1),box-shadow .18s cubic-bezier(.2,.8,.2,1),background .18s cubic-bezier(.2,.8,.2,1)}.lesson-block:focus-visible{outline:none;box-shadow:0 0 0 2px var(--focus-ring)}@media(hover:hover)and (pointer:fine){.lesson-block:hover{transform:translateY(-2px);box-shadow:0 12px 24px #00000029}}.lesson-block-main{display:flex;align-items:center;justify-content:space-between;gap:12px}.blk-text{display:flex;flex-direction:column;gap:4px}.blk-title{font-size:var(--fs-md);font-weight:700}.blk-sub{font-size:var(--fs-sm);color:var(--text-muted)}.lesson-empty{padding:24px 16px;border-radius:16px;background:var(--surface-2);color:var(--text-muted);text-align:center}.pr-ring{position:relative;display:inline-flex;align-items:center;justify-content:center;border-radius:999px}.pr-svg{position:absolute;inset:0;transform:rotate(-90deg)}.pr-ring-track,.pr-ring-progress{fill:none}.pr-ring-track{stroke:var(--color-progress-track, rgba(10, 132, 255, .18))}.pr-ring-progress{stroke:var(--color-progress-fill, rgba(10, 132, 255, .95));transition:stroke-dashoffset .4s cubic-bezier(.2,.8,.2,1)}.pr-label{position:relative;font-size:11px;font-weight:700;color:var(--color-progress-text, #374151);line-height:1}.settings-page{background:var(--color-bg);color:var(--color-text);width:100%;box-sizing:border-box;padding-bottom:calc(var(--layout-bottom-h) + var(--layout-ad-banner-h, 0rem) + var(--space-8) + env(safe-area-inset-bottom,0px))}.settings__header{padding:var(--space-6) var(--space-4) var(--space-2)}.settings__title{margin:0 0 var(--space-1);font-size:1.75rem;font-weight:800;line-height:1.15;color:var(--color-text)}.settings__subtitle{margin:0;font-size:1rem;line-height:1.4;color:var(--text-muted)}.settings__section{margin:var(--space-4);border-radius:var(--radius-16);background:var(--color-surface);border:var(--line-1) solid var(--color-border);box-shadow:var(--shadow-1);overflow:hidden}.settings__sectionTitle{margin:var(--space-4) var(--space-4) var(--space-2);font-size:.875rem;letter-spacing:.08em;text-transform:uppercase;color:var(--text-muted)}.settings__group{margin:0}.settings__row{appearance:none;-webkit-appearance:none;border:0;outline:none;box-shadow:none;font:inherit;text-align:left;width:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;gap:var(--space-3);padding:var(--space-4);background:var(--color-surface);color:var(--color-text);border-top:var(--line-1) solid var(--color-border);cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform var(--motion-200) var(--motion-ease),filter var(--motion-200) var(--motion-ease),background-color var(--motion-150) linear}.settings__row:first-child{border-top:none}@media(hover:hover)and (pointer:fine){.settings__row:hover{background:var(--surface-2)}}.settings__row:active{transform:translateY(calc(var(--line-1) * 1));filter:brightness(.99)}.settings__row:disabled,.settings__row[aria-disabled=true]{cursor:not-allowed;opacity:.55}.settings__rowLeft{display:flex;align-items:center;gap:var(--space-3);min-width:0}.settings__icon{font-size:1.25rem;line-height:1;color:var(--color-text);flex:0 0 auto}.settings__labelBlock{display:flex;flex-direction:column;min-width:0}.settings__label{font-size:1rem;line-height:1.2;color:var(--color-text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.settings__desc{margin-top:var(--space-1);font-size:.8125rem;line-height:1.2;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.settings__rowRight{display:inline-flex;align-items:center;gap:var(--space-2);color:var(--text-muted);flex:0 0 auto}.settings__value{color:var(--text-muted);font-size:.9375rem}.settings__chevron{color:var(--text-muted);font-size:1.25rem;line-height:1}.switch{position:relative;display:inline-block;width:3.25rem;height:1.875rem;flex:0 0 auto}.switch input{position:absolute;inset:0;opacity:0;pointer-events:none}.slider{position:absolute;inset:0;background:var(--surface-2);border:var(--line-1) solid var(--color-border);border-radius:var(--radius-pill);transition:background-color var(--motion-200) var(--motion-ease),border-color var(--motion-200) var(--motion-ease)}.slider:before{content:"";position:absolute;width:1.375rem;height:1.375rem;left:var(--space-1);top:50%;transform:translateY(-50%);background:var(--color-surface);border:var(--line-1) solid var(--color-border);border-radius:50%;box-shadow:var(--shadow-1);transition:transform var(--motion-200) var(--motion-ease)}.switch input:checked+.slider{background:var(--accent);border-color:var(--accent)}.switch input:checked+.slider:before{transform:translate(1.375rem,-50%);background:var(--color-surface)}@supports (color: color-mix(in oklab,white,black)){.switch input:checked+.slider{background:color-mix(in oklab,var(--accent) 18%,transparent);border-color:color-mix(in oklab,var(--accent) 40%,var(--color-border))}}.settings__footer{padding:var(--space-8) var(--space-4) var(--space-10);text-align:center;color:var(--text-muted)}.settings__version{margin-bottom:var(--space-4)}.settings__logout{appearance:none;-webkit-appearance:none;border:0;outline:none;display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);border-radius:var(--radius-12);background:var(--surface-2);color:var(--color-text);border:var(--line-1) solid var(--color-border);box-shadow:var(--shadow-1);cursor:pointer;transition:transform var(--motion-200) var(--motion-ease),filter var(--motion-200) var(--motion-ease)}.settings__logout:active{transform:translateY(calc(var(--line-1) * 1));filter:brightness(.99)}.settings__logout:disabled{opacity:.55;cursor:not-allowed}.settings-page *{-webkit-tap-highlight-color:transparent}.language-settings{padding:24px;text-align:center;max-width:720px;margin:0 auto}.language-settings h2{font-size:26px;margin-bottom:24px;color:#fff;font-weight:700}.language-settings ul{list-style:none;padding:0;margin:0}.language-settings li{margin:12px 0}.language-settings button{width:80%;max-width:520px;padding:14px 18px;font-size:18px;font-weight:700;border-radius:12px;border:1px solid rgba(255,255,255,.16);background-color:#2d2f34;color:#fff;cursor:pointer;transition:background-color .25s ease,transform .06s ease,box-shadow .25s ease;box-shadow:0 2px 10px #00000040}@media(hover:hover)and (pointer:fine){.language-settings button:hover{background-color:#3a8bea;box-shadow:0 4px 16px #3a8bea59;transform:translateY(-1px)}}.language-settings button:active{transform:translateY(0);background-color:#2f79cc}.language-settings button:focus-visible{outline:3px solid #70b7ff;outline-offset:2px}.language-settings button.active{background-color:#2f79cc;border-color:#ffffff38;box-shadow:0 0 0 3px #70b7ff40 inset}@media(prefers-color-scheme:light){.language-settings h2{color:#222}.language-settings button{background-color:#f5f7fb;color:#1c2333;border-color:#00000014;box-shadow:0 2px 10px #00000014}.language-settings button.active{background-color:#e6f1ff;box-shadow:0 0 0 3px #3a8bea2e inset}}@media(max-width:480px){.language-settings button{width:92%;font-size:17px;padding:14px}}.mybook-wrap,.mywb-wrap{max-width:820px;margin:20px auto;padding:0 16px}.mybook-wrap h2,.mywb-wrap .mywb-title{font-size:1.6rem;margin:8px 0 16px;font-weight:800}.empty,.mywb-empty{opacity:.75;margin:24px 0}.mybook-list,.mywb-grid,.mywb-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;list-style:none;padding:0;margin:0}.mybook-item,.mywb-item{background:var(--surface, #f9f9f9);border:1px solid var(--color-border, rgba(0,0,0,.12));border-radius:14px;padding:14px;display:flex;flex-direction:column;gap:8px;color:var(--fg, #111);box-shadow:0 6px 16px #0000000f}@media(prefers-color-scheme:dark){.mybook-item,.mywb-item{background:var(--surface, #1c1f26);border-color:var(--color-border, rgba(255,255,255,.1));color:var(--fg, #eee);box-shadow:0 6px 16px #00000040}}.kanji,.mywb-kanji{font-size:1.7rem;font-weight:800;margin-bottom:6px}.readings,.mywb-reading{font-weight:600;opacity:.9}.meanings{font-size:.95rem;opacity:.9;margin-top:6px}.meta,.mywb-meta{font-size:.8rem;opacity:.65;margin-top:4px;display:flex;gap:6px;flex-wrap:wrap}.mywb-tag{padding:2px 8px;border-radius:999px;border:1px solid var(--color-border, rgba(0,0,0,.15));background:#0000000a}@media(prefers-color-scheme:dark){.mywb-tag{border-color:#ffffff2e;background:#ffffff0f}}.actions,.mywb-actions{display:flex;align-items:center;gap:8px;margin-top:6px}.btn,.mywb-remove,.mywb-clear{border:1px solid rgba(0,0,0,.15);background:transparent;color:inherit;border-radius:10px;padding:6px 10px;cursor:pointer;transition:background .15s ease,border-color .15s ease,transform .05s ease}@media(prefers-color-scheme:dark){.btn,.mywb-remove,.mywb-clear{border-color:#ffffff26}}.btn:hover,.mywb-remove:hover,.mywb-clear:hover{background:#0000000f;transform:translateY(-1px)}@media(prefers-color-scheme:dark){.btn:hover,.mywb-remove:hover,.mywb-clear:hover{background:#ffffff14}}.btn.danger,.mywb-remove{border-color:#ff000040}.btn.danger:hover,.mywb-remove:hover{background:#ff000014}.mywb-clear{width:100%;margin-top:8px}.rk{max-width:480px;margin:0 auto;padding:16px 16px 80px;color:#e5e7eb;font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif}.rk__header{margin-bottom:8px}.rk__header h1{font-size:20px;font-weight:700;margin:0}.rk__sub{margin:2px 0 0;font-size:11px;color:#9ca3af}.rk__error{margin-top:10px;padding:10px 12px;border-radius:10px;background:#f871711a;border:1px solid rgba(248,113,113,.35);font-size:12px;color:#fecaca}.rk__loading,.rk__empty,.rk__mehint{margin-top:14px;font-size:12px;color:#9ca3af}.rk__list{list-style:none;margin:10px 0 0;padding:0}.rk__row{display:flex;align-items:center;gap:10px;padding:9px 10px;margin-bottom:6px;border-radius:14px;background:radial-gradient(circle at top left,#94a3fd1f,#111827fa);border:1px solid rgba(148,163,253,.16);box-shadow:0 4px 10px #0000005c;transition:transform .08s ease-out,box-shadow .12s ease-out,background .12s ease-out,border-color .12s ease-out}.rk__row:hover{transform:translateY(-1px);box-shadow:0 6px 14px #00000075;background:radial-gradient(circle at top left,#818cf82e,#0f172a)}.rk__rank{width:26px;text-align:center;font-weight:700;font-size:14px;color:#9ca3af}.is-top1 .rk__row,.rk__row.is-top1{border-color:#facc15e6;background:radial-gradient(circle at top left,#fafad226,#0f172a)}.is-top1 .rk__rank,.rk__row.is-top1 .rk__rank{font-size:18px}.is-top2 .rk__row,.rk__row.is-top2{border-color:#9ca3afe6}.is-top3 .rk__row,.rk__row.is-top3{border-color:#f8fafc73}.rk__avatar{width:34px;height:34px;border-radius:999px;overflow:hidden;background:#111827;display:flex;align-items:center;justify-content:center;flex-shrink:0}.rk__avatar img{width:100%;height:100%;object-fit:cover}.rk__avatarPh{width:100%;height:100%;border-radius:inherit;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;color:#e5e7eb;background:linear-gradient(135deg,#38bdf8e6,#818cf8f2)}.rk__meta{flex:1 1 auto;min-width:0;display:flex;flex-direction:column}.rk__name{font-size:14px;font-weight:600;line-height:1.2;color:#e5e7eb;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.rk__submeta{margin-top:1px;font-size:10px;color:#9ca3af}.rk__xp{flex:0 0 auto;text-align:right;min-width:60px}.rk__xpNum{display:block;font-size:15px;font-weight:700;color:#22c55e}.rk__xpUnit{font-size:9px;color:#6b7280}.rk__row.is-me{border-color:#38bdf8f2;box-shadow:0 0 0 1px #38bdf852,0 6px 16px #0f172ae6;background:radial-gradient(circle at top left,#38bdf82e,#0f172a)}.rk__more{margin-top:10px;text-align:center}.rk__more .btn{padding:7px 18px;border-radius:999px;border:none;background:#111827;color:#e5e7eb;font-size:12px;font-weight:600;cursor:pointer;box-shadow:0 4px 10px #0006;transition:transform .08s ease,box-shadow .12s ease,background .12s ease}.rk__more .btn:hover{background:#020817;box-shadow:0 5px 14px #00000080;transform:translateY(-1px)}.rk__more .btn:active{transform:translateY(1px);box-shadow:0 2px 6px #00000080}.rk__mehint{margin-top:8px;padding:6px 9px;border-radius:9px;background:#0f172afa;border:1px dashed rgba(148,163,253,.5);color:#9ca3af;font-size:10px}@media(max-width:480px){.rk{padding:12px 10px 70px}.rk__row{padding:8px;gap:8px}.rk__rank{width:22px;font-size:12px}.rk__avatar{width:32px;height:32px}.rk__name{font-size:13px}.rk__xpNum{font-size:14px}}.helpSupport-page,.help-support-page,.help-page{max-width:var(--layout-max-width);margin:0 auto;padding:var(--space-6);padding-bottom:calc(var(--space-10) + env(safe-area-inset-bottom))}.helpSupport-header,.help-header{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-4)}.helpSupport-backButton,.help-backButton{display:inline-flex;align-items:center;justify-content:center;width:var(--space-7);height:var(--space-7);border-radius:var(--radius-full);border:1px solid var(--color-border-subtle);background:var(--color-bg-subtle);box-shadow:var(--shadow-soft);font-size:1rem;cursor:pointer;-webkit-tap-highlight-color:transparent;transition:transform var(--motion-fast) var(--motion-ease),box-shadow var(--motion-fast) var(--motion-ease)}.helpSupport-backButton:active,.help-backButton:active{transform:translateY(1px);box-shadow:none}.helpSupport-headerTitleBlock,.help-headerTitleBlock{display:flex;flex-direction:column;gap:var(--space-1)}.helpSupport-title,.help-title{font-size:1.1rem;font-weight:600;color:var(--color-text-strong)}.helpSupport-subtitle,.help-subtitle{font-size:.85rem;color:var(--color-text-muted)}.helpSupport-section,.help-section{margin-top:var(--space-3);padding:var(--space-5);border-radius:var(--radius-xl);background:var(--color-bg-surface);border:1px solid var(--color-border-subtle);box-shadow:var(--shadow-soft)}.helpSupport-sectionTitle,.help-sectionTitle{font-size:.95rem;font-weight:600;margin-bottom:var(--space-3);color:var(--color-text-strong)}.helpSupport-list,.help-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:var(--space-2)}.helpSupport-listItem,.help-listItem{font-size:.85rem;color:var(--color-text-main);line-height:1.5}.helpSupport-faqLabel{font-weight:600;margin-right:var(--space-1)}.helpSupport-faqAnswer{color:var(--color-text-muted)}.helpSupport-meta,.help-meta{margin-top:var(--space-4);padding:var(--space-4);border-radius:var(--radius-lg);background:var(--color-bg-subtle);border:1px dashed var(--color-border-subtle);font-size:.8rem;color:var(--color-text-muted)}.helpSupport-meta a,.help-meta a{color:var(--color-accent);text-decoration:underline}.contact-page{max-width:var(--layout-max-width);margin:0 auto;padding:var(--space-6);padding-bottom:calc(var(--space-10) + env(safe-area-inset-bottom))}.contact-header{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-4)}.contact-backButton{display:inline-flex;align-items:center;justify-content:center;width:var(--space-7);height:var(--space-7);border-radius:var(--radius-full);border:1px solid var(--color-border-subtle);background:var(--color-bg-subtle);box-shadow:var(--shadow-soft);font-size:1rem;cursor:pointer;-webkit-tap-highlight-color:transparent;transition:transform var(--motion-fast) var(--motion-ease),box-shadow var(--motion-fast) var(--motion-ease)}.contact-backButton:active{transform:translateY(1px);box-shadow:none}.contact-headerTitleBlock{display:flex;flex-direction:column;gap:var(--space-1)}.contact-title{font-size:1.1rem;font-weight:600;color:var(--color-text-strong)}.contact-subtitle{font-size:.85rem;color:var(--color-text-muted)}.contact-card{padding:var(--space-5);border-radius:var(--radius-xl);background:var(--color-bg-surface);border:1px solid var(--color-border-subtle);box-shadow:var(--shadow-soft);display:flex;flex-direction:column;gap:var(--space-4)}.contact-text{font-size:.85rem;color:var(--color-text-main);line-height:1.6}.contact-field{display:flex;flex-direction:column;gap:var(--space-1)}.contact-fieldLabel{font-size:.85rem;font-weight:600;color:var(--color-text-strong)}.contact-fieldHelp{font-size:.8rem;color:var(--color-text-muted);line-height:1.6}.contact-mailButton{display:inline-flex;align-items:center;justify-content:center;padding:var(--space-3) var(--space-6);border-radius:var(--radius-pill);border:1px solid var(--color-accent);background:var(--color-accent-soft);color:var(--color-accent-strong);font-size:.9rem;font-weight:600;text-decoration:none;-webkit-tap-highlight-color:transparent;transition:transform var(--motion-fast) var(--motion-ease),box-shadow var(--motion-fast) var(--motion-ease),background-color var(--motion-fast) var(--motion-ease)}.contact-mailButton:active{transform:translateY(1px);box-shadow:none}.contact-footerNote{font-size:.8rem;color:var(--color-text-muted)}.contact-emailLink{color:var(--color-accent);text-decoration:underline}.rm{position:relative;height:100vh;overflow:hidden;display:flex;flex-direction:column;color:var(--color-text);--ease: cubic-bezier(.2, .8, .2, 1);--rm-gap: var(--space-3);--rm-pad: var(--space-4);--rm-hud: calc(var(--space-8) * 2);--rm-node: calc(var(--space-8) * 6.3);--rm-badge: calc(var(--space-8) * 1.9);--rm-path-w-mono: calc(var(--space-8) * .95);--rm-path-op-mono: .18;--rm-mint-1: color-mix(in oklab, var(--color-primary) 10%, var(--color-bg));--rm-mint-2: color-mix(in oklab, var(--color-primary) 6%, var(--color-bg));--rm-mint-3: color-mix(in oklab, var(--color-primary) 3%, var(--color-bg));--rm-pill: color-mix(in oklab, var(--color-surface) 82%, transparent);--rm-line: color-mix(in oklab, var(--color-text) 14%, transparent);background:linear-gradient(to bottom,var(--rm-mint-1),var(--rm-mint-2) 55%,var(--rm-mint-3))}[data-theme=dark] .rm{--rm-path-op-mono: .26}.rm:before{content:"";position:absolute;left:0;top:0;width:18%;height:100%;background:linear-gradient(to bottom,color-mix(in oklab,var(--color-primary) 22%,transparent),color-mix(in oklab,var(--color-primary) 10%,transparent));opacity:.45;pointer-events:none}.rmHud{position:relative;z-index:20;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:var(--rm-gap);padding:var(--rm-pad);padding-top:calc(var(--rm-pad) + env(safe-area-inset-top))}.rmHud__level{width:var(--rm-hud);height:var(--rm-hud);border-radius:999px;border:var(--line-1) solid color-mix(in oklab,var(--color-primary) 70%,transparent);background:color-mix(in oklab,var(--color-surface) 70%,transparent);box-shadow:var(--shadow-1);font-weight:950;letter-spacing:.08em;display:grid;place-items:center;cursor:pointer;transition:transform var(--motion-200) var(--ease)}.rmHud__level:hover{transform:translateY(calc(var(--space-1) * -1))}.rmHud__level:focus-visible{outline:none;box-shadow:0 0 0 calc(var(--space-1) * 6) color-mix(in oklab,var(--color-primary) 30%,transparent),var(--shadow-2)}.rmHud__medal{justify-self:center;width:var(--rm-hud);height:var(--rm-hud);border-radius:999px;border:var(--line-1) solid var(--rm-line);background:color-mix(in oklab,var(--color-surface) 74%,transparent);box-shadow:var(--shadow-1);display:grid;place-items:center;cursor:pointer;transition:transform var(--motion-200) var(--ease)}.rmHud__medal:hover{transform:translateY(calc(var(--space-1) * -1))}.rmHud__medal:focus-visible{outline:none;box-shadow:0 0 0 calc(var(--space-1) * 6) color-mix(in oklab,var(--color-primary) 30%,transparent),var(--shadow-2)}.rmHud__stamina{justify-self:end;height:var(--rm-hud);padding:0 var(--space-4);border-radius:999px;border:var(--line-1) solid var(--rm-line);background:color-mix(in oklab,var(--color-surface) 74%,transparent);box-shadow:var(--shadow-1);display:inline-flex;align-items:center;gap:var(--space-2);font-weight:950}.rmHud__staminaText{color:color-mix(in oklab,var(--color-text) 85%,transparent)}.rmMap{flex:1 1 auto;min-height:0;padding:0}.rmStage{height:100%;overflow:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.rmCanvas{position:relative;min-height:190vh;padding-bottom:calc(var(--space-8) * 7 + env(safe-area-inset-bottom))}.rmRibbon{position:absolute;inset:0;pointer-events:none;z-index:2;color:var(--color-primary)}.rmRibbon:before{content:"";position:absolute;left:22%;top:8%;width:56%;height:140%;border-radius:calc(var(--radius-16) * 6);background:radial-gradient(circle at 30% 18%,color-mix(in oklab,var(--color-primary) 14%,transparent),transparent 62%),radial-gradient(circle at 70% 34%,color-mix(in oklab,var(--color-primary) 14%,transparent),transparent 64%),radial-gradient(circle at 38% 58%,color-mix(in oklab,var(--color-primary) 14%,transparent),transparent 66%),radial-gradient(circle at 68% 76%,color-mix(in oklab,var(--color-primary) 14%,transparent),transparent 68%),radial-gradient(circle at 36% 92%,color-mix(in oklab,var(--color-primary) 14%,transparent),transparent 70%);filter:blur(calc(var(--space-1) * 10));opacity:.16}.rmRibbon__svg{position:absolute;left:0;top:0;width:100%;height:140%;display:block;overflow:visible}.rmRibbon__stroke{fill:none!important;stroke-linecap:round;stroke-linejoin:round}.rmRibbon__stroke--mono{stroke:currentColor!important;stroke-width:var(--rm-path-w-mono);opacity:var(--rm-path-op-mono);filter:none}.rmNodes{position:absolute;inset:0;z-index:5;list-style:none;margin:0;padding:0}.rmNode{position:absolute;transform:translate(-50%,-50%);display:grid;justify-items:center;gap:var(--space-2)}.rmNode__btn{width:var(--rm-node);height:var(--rm-node);border:none;background:transparent;padding:0;cursor:pointer;touch-action:manipulation;transition:transform var(--motion-200) var(--ease)}.rmNode__btn:hover{transform:translateY(calc(var(--space-1) * -2))}.rmNode__btn:focus-visible{outline:none}.rmNode__btn:focus-visible .rmNode__circle{box-shadow:0 0 0 calc(var(--space-1) * 6) color-mix(in oklab,var(--color-primary) 28%,transparent),var(--shadow-2)}.rmNode__circle{position:relative;width:100%;height:100%;border-radius:999px;border:var(--line-1) solid var(--rm-line);background:color-mix(in oklab,var(--color-surface) 74%,transparent);box-shadow:var(--shadow-2);display:grid;place-items:center}.rmNode__icon{font-size:1.75em;line-height:1}.rmNode__badge{position:absolute;right:calc(var(--space-2) * -.25);bottom:calc(var(--space-2) * -.25);width:var(--rm-badge);height:var(--rm-badge);border-radius:999px;border:var(--line-1) solid var(--rm-line);background:color-mix(in oklab,var(--color-surface) 82%,transparent);box-shadow:var(--shadow-1);opacity:0}.rmNode__label{max-width:calc(var(--space-8) * 18);padding:calc(var(--space-2) * .75) var(--space-3);border-radius:999px;background:color-mix(in oklab,var(--color-surface) 90%,transparent);border:var(--line-1) solid color-mix(in oklab,var(--color-text) 10%,transparent);box-shadow:var(--shadow-1);font-weight:900;color:color-mix(in oklab,var(--color-text) 86%,transparent);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.rmNode.is-done .rmNode__circle{background:color-mix(in oklab,var(--color-success) 55%,var(--color-surface));border-color:color-mix(in oklab,var(--color-success) 46%,var(--rm-line))}.rmNode.is-done .rmNode__badge{opacity:1;background:color-mix(in oklab,var(--color-success) 70%,var(--color-surface))}.rmNode.is-done .rmNode__badge:before{content:"";position:absolute;inset:0;margin:auto;width:42%;height:24%;border-left:var(--line-1) solid color-mix(in oklab,var(--color-text) 80%,transparent);border-bottom:var(--line-1) solid color-mix(in oklab,var(--color-text) 80%,transparent);transform:rotate(-45deg)}.rmNode.is-next .rmNode__circle{background:color-mix(in oklab,var(--color-surface) 86%,transparent);border-color:color-mix(in oklab,var(--color-primary) 65%,transparent);box-shadow:0 0 0 calc(var(--space-1) * 6) color-mix(in oklab,var(--color-primary) 18%,transparent),var(--shadow-2)}.rmNode.is-next .rmNode__btn{animation:rmFloat .98s var(--ease) infinite alternate}@keyframes rmFloat{0%{transform:translateY(0)}to{transform:translateY(calc(var(--space-1) * -2))}}.rmNode.is-locked .rmNode__circle,.rmNode.is-locked .rmNode__label{opacity:.55}.rmNode.is-locked .rmNode__btn{cursor:not-allowed}.rmDock{position:sticky;bottom:0;z-index:25;padding:0 var(--space-4) var(--space-4);background:linear-gradient(to top,color-mix(in oklab,var(--color-bg) 92%,transparent),transparent);backdrop-filter:blur(calc(var(--space-1) * 6))}.rmDock__safe{height:env(safe-area-inset-bottom)}@media(prefers-reduced-motion:reduce){.rmNode.is-next .rmNode__btn{animation:none!important}.rmHud__level,.rmHud__medal,.rmNode__btn,.rmDock__iconBtn,.rmDock__barFill{transition:none!important}}.onb-page{min-height:100vh;display:flex;justify-content:center;align-items:center;padding:var(--space-6, 24px);background:radial-gradient(circle at top,var(--color-onb-bg-highlight, #1b2140) 0%,var(--color-onb-bg, #050919) 55%,var(--color-onb-bg-deep, #02030c) 100%);color:var(--color-onb-text, #f7f9ff)}.onb-shell{width:100%;max-width:540px;display:flex;justify-content:center}.onb-device{width:100%;max-width:360px;border-radius:var(--radius-3xl, 32px);padding:var(--space-4, 16px);background:linear-gradient(145deg,var(--color-onb-device-top, #111833),var(--color-onb-device-bottom, #050818));box-shadow:var(--shadow-onb-device, 0 24px 60px rgba(0, 0, 0, .65));display:flex;flex-direction:column;min-height:640px;gap:0;position:relative;overflow:hidden}.onb-notch{display:none}.onb-progress{height:8px;margin:var(--space-4, 16px) var(--space-4, 16px) 0;border-radius:var(--radius-full, 999px);background:var(--color-onb-progress-track, rgba(255, 255, 255, .06));overflow:hidden}.onb-progress__bar{height:100%;width:var(--onb-progress, 20%);border-radius:inherit;background:linear-gradient(90deg,var(--color-onb-progress, #3df58c),var(--color-onb-progress2, #26ff6a));transition:width var(--motion-medium, .22s ease-out)}.onb-content{flex:1;padding:var(--space-6, 24px) var(--space-4, 16px) var(--space-4, 16px);display:flex;flex-direction:column;gap:var(--space-5, 20px);overflow-y:auto}.onb-step{display:flex;flex-direction:column;gap:var(--space-4, 16px)}.onb-header{display:flex;flex-direction:column;gap:var(--space-2, 8px)}.onb-title{font-size:1.4rem;line-height:1.3;font-weight:700}.onb-subtitle{font-size:.95rem;opacity:.78}.onb-options{display:flex;flex-wrap:wrap;gap:var(--space-3, 12px)}.onb-options--stack{flex-direction:column}.onb-options--grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}.onb-options--grid3{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));row-gap:var(--space-3, 12px)}.onb-option{border-radius:var(--radius-2xl, 24px);background:radial-gradient(circle at top left,var(--color-onb-card-highlight, rgba(255, 255, 255, .06)),var(--color-onb-card, rgba(9, 16, 42, .95)));border:1px solid var(--color-onb-card-border, rgba(255, 255, 255, .08));padding:var(--space-3, 12px) var(--space-3, 12px);display:flex;align-items:center;gap:var(--space-3, 12px);cursor:pointer;-webkit-tap-highlight-color:transparent;color:inherit;font:inherit;text-align:left;outline:none;box-shadow:var(--shadow-onb-card, 0 10px 28px rgba(0, 0, 0, .4));transform:translateY(0);transition:transform var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1)),box-shadow var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1)),background var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1)),border-color var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1))}.onb-option--level{min-height:64px}.onb-option:active{transform:scale(.96);box-shadow:var( --shadow-onb-card-pressed, 0 6px 18px rgba(0, 0, 0, .55) )}.onb-option--active{background:radial-gradient(circle at top left,var(--color-onb-card-active-highlight, rgba(46, 255, 146, .25)),var(--color-onb-card-active, rgba(9, 38, 32, .98)));border-color:var(--color-onb-card-active-border, #3df58c);transform:translateY(-1px);box-shadow:var( --shadow-onb-card-active, 0 18px 36px rgba(0, 0, 0, .7) )}.onb-option__icon{width:40px;height:40px;border-radius:var(--radius-xl, 20px);background:radial-gradient(circle at top left,#ffffff24,#060c23fa);display:flex;align-items:center;justify-content:center;font-size:20px}.onb-option__body{flex:1;display:flex;flex-direction:column;gap:2px}.onb-option__label{font-size:.98rem;font-weight:600}.onb-option__desc{font-size:.78rem;opacity:.8}.onb-option__check{width:22px;height:22px;border-radius:var(--radius-full, 999px);border:2px solid rgba(255,255,255,.4);display:flex;align-items:center;justify-content:center;font-size:.78rem;opacity:0;transform:scale(.6);transition:opacity var(--motion-medium, .22s ease-out),transform var(--motion-medium, .22s ease-out),background var(--motion-medium, .22s ease-out),border-color var(--motion-medium, .22s ease-out)}.onb-option__check--visible{opacity:1;transform:scale(1);background:var(--color-onb-check-bg, #2df573);border-color:transparent}.onb-chip{padding:2px 8px;border-radius:var(--radius-full, 999px);background:var(--color-onb-chip-bg, #1bff8a);color:var(--color-onb-chip-text, #04100b);font-size:.7rem;font-weight:600}.onb-note{margin-top:var(--space-2, 8px);font-size:.8rem;text-align:center;opacity:.85}.onb-primary{padding:0 var(--space-3, 12px);padding-bottom:var(--space-3, 12px)}.onb-primary-btn{width:100%;border:none;border-radius:var(--radius-2xl, 24px);padding:var(--space-3, 12px);font-size:1rem;font-weight:600;color:var(--color-onb-primary-text, #04100b);background:var(--color-onb-primary-bg, #3df58c);box-shadow:var(--shadow-onb-primary, 0 18px 36px rgba(0, 0, 0, .7));cursor:pointer;-webkit-tap-highlight-color:transparent;transition:transform var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1)),box-shadow var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1)),filter var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1))}.onb-primary-btn:active{transform:scale(.97);box-shadow:var( --shadow-onb-primary-pressed, 0 12px 24px rgba(0, 0, 0, .7) );filter:brightness(.96)}.onb-primary-btn--green{background:linear-gradient(135deg,#3df58c,#1fca60)}.onb-primary-btn--purple{background:linear-gradient(135deg,#f268ff,#b43cff);color:#fff}.onb-primary-btn--blue{background:linear-gradient(135deg,#3aa8ff,#286bff);color:#fff}.onb-primary-btn--orange{background:linear-gradient(135deg,#ffb84c,#ff7a1f);color:#2a1400}.onb-primary-btn--pink{background:linear-gradient(135deg,#ff7ce3,#ff48a5);color:#fff}.onb-footer{display:flex;align-items:center;justify-content:space-between;padding-inline:var(--space-3, 12px);padding-bottom:var(--space-2, 8px);font-size:.8rem;opacity:.9}.onb-footer-btn{min-width:80px;border:none;background:transparent;color:#ffffffe6;font:inherit;cursor:pointer;padding:var(--space-1, 4px) var(--space-2, 8px);border-radius:var(--radius-full, 999px);transition:background var(--motion-fast, .16s ease-out)}.onb-footer-btn--ghost{opacity:.7}.onb-footer-btn[disabled]{opacity:.3;cursor:default}.onb-footer-btn:not([disabled]):active{background:#ffffff0f}.onb-footer-page{opacity:.7}.onb-time-card{display:flex;justify-content:center;margin-top:var(--space-2, 8px)}.onb-time-card__circle{width:160px;height:160px;border-radius:var(--radius-full, 999px);background:radial-gradient(circle at top,#ff7ae0,#7c1f9f);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;color:#fff;box-shadow:0 18px 40px #000000b3}.onb-time-card__emoji{font-size:1.6rem}.onb-time-card__time{font-size:1.7rem;font-weight:700}.onb-time-card__label{font-size:.9rem;opacity:.9}.onb-slider-block{margin-top:var(--space-5, 20px);display:flex;flex-direction:column;gap:var(--space-2, 8px)}.onb-slider{width:100%;-webkit-appearance:none;appearance:none;height:6px;border-radius:999px;background:#ffffff29;outline:none}.onb-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#ff7ce3;box-shadow:0 0 0 4px #ff7ce359;cursor:pointer;transition:transform var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1)),box-shadow var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1))}.onb-slider:active::-webkit-slider-thumb{transform:scale(1.08);box-shadow:0 0 0 6px #ff7ce380}.onb-slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#ff7ce3;border:none;box-shadow:0 0 0 4px #ff7ce359;cursor:pointer;transition:transform var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1)),box-shadow var(--motion-fast, .16s cubic-bezier(.2, .8, .2, 1))}.onb-slider:active::-moz-range-thumb{transform:scale(1.08);box-shadow:0 0 0 6px #ff7ce380}.onb-slider-labels{display:flex;justify-content:space-between;font-size:.75rem;opacity:.7}.onb-slider-label--active{opacity:1;font-weight:600}.onb-reminder{margin-top:var(--space-4, 16px);border-radius:var(--radius-2xl, 24px);padding:var(--space-3, 12px);background:radial-gradient(circle at top left,#ffffff1f,#070b20fa);display:flex;align-items:center;gap:var(--space-3, 12px)}.onb-reminder__icon{font-size:1.3rem}.onb-reminder__text{font-size:.86rem;opacity:.9}@media(max-width:414px){.onb-device{max-width:100%;border-radius:var(--radius-2xl, 24px)}.onb-content{padding-inline:var(--space-3, 12px)}.onb-options--grid3{grid-template-columns:repeat(2,minmax(0,1fr))}}:root{--alpha-teal: var(--color-alpha-teal, #35b4a6);--alpha-teal-dark: var(--color-alpha-teal-dark, #2f997f);--alpha-bg: var(--color-alpha-bg, #f3f4f6);--alpha-card: var(--color-alpha-card, #ffffff);--alpha-text-main: var(--color-alpha-text-main, #2b2b2b);--alpha-text-muted: var(--color-alpha-text-muted, #9aa0a6);--alpha-shadow: var( --shadow-alpha, 0 6px 16px rgba(0, 0, 0, .08) )}.alpha-page{background:var(--alpha-bg);color:var(--alpha-text-main);padding:var(--space-3, 12px) var(--space-3, 14px) var(--space-5, 24px);box-sizing:border-box;max-width:var(--layout-max-width, 1024px);margin:0 auto}.alpha-header{display:flex;justify-content:space-between;align-items:center;margin:var(--space-1, 6px) var(--space-1, 4px) var(--space-3, 12px)}.alpha-header h1{font-size:var(--fs-lg, 20px);color:var(--color-on-accent, #ffffff);background:var(--alpha-teal);padding:var(--space-1_5, 6px) var(--space-3, 12px);border-radius:var(--radius-lg, 12px)}.segment{background:var(--alpha-teal-dark);border-radius:var(--radius-full, 999px);padding:var(--space-0_5, 3px);display:flex;gap:var(--space-1, 4px)}.seg-btn{min-width:66px;padding:var(--space-2, 8px) var(--space-3, 12px);border:0;border-radius:var(--radius-full, 999px);background:transparent;color:#e9fffb;font-weight:600;cursor:pointer;font-size:var(--fs-sm, 13px);-webkit-tap-highlight-color:transparent}.seg-btn.active{background:#e7fbf7;color:var(--alpha-teal-dark)}.unit-list{display:flex;flex-direction:column;gap:var(--space-3, 12px);margin-top:var(--space-3, 12px)}.unit-card{background:var(--alpha-card);border-radius:var(--radius-xl, 16px);box-shadow:var(--alpha-shadow);padding:var(--space-3_5, 14px) var(--space-4, 16px);display:flex;justify-content:space-between;align-items:center}.unit-card.locked{opacity:.72}.unit-card:active{transform:translateY(1px)}.unit-left{display:flex;flex-direction:column;gap:var(--space-1_5, 6px)}.unit-title{color:#7a7f85;font-weight:700;margin-bottom:2px;font-size:var(--fs-sm, 13px)}.row{font-size:var(--fs-md, 16px);letter-spacing:.08em}.row.primary{color:var(--alpha-text-main)}.row.secondary{color:var(--alpha-text-muted)}.unit-right{display:flex;align-items:center;gap:var(--space-2, 8px)}.unit-icon{font-size:20px;color:#b9c0c5}.go-btn{width:38px;height:38px;display:grid;place-items:center;background:var(--alpha-teal);color:#fff;border-radius:var(--radius-full, 999px);box-shadow:var(--alpha-shadow);border:none;cursor:pointer}.cta-wrap{position:sticky;bottom:calc(var(--bn-height, 88px) + env(safe-area-inset-bottom,0px) + var(--space-2, 8px));display:flex;justify-content:center;margin-top:var(--space-2_5, 10px);margin-bottom:var(--space-1_5, 6px)}.cta-pill{border:0;cursor:pointer;background:var(--alpha-teal);color:#fff;font-weight:800;letter-spacing:.08em;padding:var(--space-3_5, 14px) var(--space-5_5, 22px);border-radius:var(--radius-full, 999px);box-shadow:var(--alpha-shadow)}.ad-slot{height:64px;background:#e8eaed;border-radius:var(--radius-lg, 12px);margin-top:var(--space-2, 8px)}@media(min-width:768px){.alpha-page{padding:var(--space-4, 16px) var(--space-5, 24px) var(--space-6, 32px)}.row{font-size:var(--fs-lg, 18px)}.unit-card{padding:var(--space-4, 16px) var(--space-5, 20px)}}.alphabet-lesson{padding:1rem;font-size:1.2rem}.trace-wrap{margin:0 auto}.trace-toolbar{display:flex;gap:.5rem;align-items:center;margin-bottom:.5rem;flex-wrap:wrap}.trace-toolbar label{display:flex;align-items:center;gap:.25rem;font-size:.9rem}.trace-toolbar input[type=range]{width:120px}.trace-stage{border:1px solid #e5e5e5;border-radius:12px;overflow:hidden;background:#fff}.trace-base{pointer-events:none}.quiz-wrap{text-align:center;background-color:var(--color-bg, #fff);color:var(--color-text, #111);min-height:100vh;padding:var(--space-6, 2rem)}.counter{opacity:.8;color:var(--color-text-subtle, rgba(17, 17, 17, .72))}.question{margin:1rem auto .5rem;max-width:720px;line-height:1.9;font-size:1.4rem;color:inherit}.quiz-wrap ruby,.quiz-wrap rb,.quiz-wrap rt,.quiz-wrap span{color:inherit!important}.quiz-wrap ruby{ruby-position:over}.quiz-wrap rt{font-size:.6em;opacity:.9;letter-spacing:.02em}.choices{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin:1.5rem auto;max-width:540px}.choice-btn{background:var(--color-surface, #f2f2f7);border:var(--line-1, 1px) solid var(--color-primary, #646cff);border-radius:12px;padding:.9rem 1rem;font-size:1.15rem;color:var(--color-text, #111);cursor:pointer;transition:transform .12s,background .2s,box-shadow .2s}.choice-btn:hover{background:color-mix(in srgb,var(--color-surface, #f2f2f7) 70%,var(--color-primary, #646cff) 30%);transform:translateY(-1px)}.choice-btn.correct{background:#2e8b57;box-shadow:0 0 10px #2e8b5799;color:#fff}.choice-btn.wrong{background:#b22222;box-shadow:0 0 10px #b2222299;color:#fff}.judge-overlay{position:fixed;inset:0;display:grid;place-items:center;pointer-events:none;z-index:50}.judge-circle{width:180px;height:180px;filter:drop-shadow(0 0 12px rgba(100,108,255,.7))}.judge-circle .ring,.judge-circle .ring2{fill:none;stroke:#6a6fff;stroke-width:10;stroke-linecap:round;stroke-dasharray:283;stroke-dashoffset:283;transform-origin:60px 60px;animation:draw-circle .5s ease-out forwards,pop .5s ease-out forwards}.judge-circle .ring2{stroke:#9aa0ff;stroke-width:6;stroke-dasharray:188;stroke-dashoffset:188;animation-delay:.05s}@keyframes draw-circle{to{stroke-dashoffset:0}}@keyframes pop{0%{transform:scale(.9)}60%{transform:scale(1.05)}to{transform:scale(1)}}.judge-cross{width:180px;height:180px;filter:drop-shadow(0 0 12px rgba(255,90,90,.7))}.judge-cross .bar1,.judge-cross .bar2{stroke:#ff5a5a;stroke-width:12;stroke-linecap:round;stroke-dasharray:85;stroke-dashoffset:85;animation:draw-line .35s ease-out forwards,shake .5s ease-out forwards}.judge-cross .bar2{animation-delay:.08s,.08s}@keyframes draw-line{to{stroke-dashoffset:0}}@keyframes shake{0%{transform:translate(0)}35%{transform:translate(-2px)}70%{transform:translate(2px)}to{transform:translate(0)}}.quiz-toolbar{display:flex;gap:8px;justify-content:flex-end;margin:8px 0 12px}.choice-btn.ghost{background:transparent;border:1px solid var(--fg-muted, #7aa);opacity:.9;color:var(--color-text, #111)}.choice-btn.ghost:disabled{opacity:.5;cursor:not-allowed}.blank{display:inline-block;min-width:3em;border-bottom:2px dashed #888;padding:0 4px}.blank.blink{animation:blank-glow .4s ease-out}@keyframes blank-glow{0%{background:#6a6fff00;box-shadow:0 0 #6a6fff00;transform:scale(1)}40%{background:#6a6fff33;box-shadow:0 0 10px #6a6fff99;transform:scale(1.03)}to{background:#6a6fff00;box-shadow:0 0 #6a6fff00;transform:scale(1)}}.word-card{width:min(92vw,360px);margin:20px auto;padding:18px 16px 36px;background:var(--color-surface-card, #f9f9f9);color:var(--color-text-primary, #000);border:2px solid #d9b45e;border-radius:14px;box-shadow:0 6px 16px #00000026;text-align:center;position:relative;font-family:Noto Sans JP,system-ui,-apple-system,Segoe UI,sans-serif}.wc-progress-row{margin-bottom:10px}.wc-head{position:relative;height:36px;margin-bottom:8px}.wc-head-title{position:absolute;left:50%;top:0;transform:translate(-50%);height:36px;display:inline-flex;align-items:center;gap:8px;font-weight:700;color:#4b5563;letter-spacing:.2px}.id-badge{padding:4px 10px;border-radius:999px;border:1px solid #e5e7eb;font-size:.8rem;font-weight:600;background:#f9fafb}.wc-head-btn{position:absolute;top:0;height:36px;padding:0 12px;border-radius:10px;border:1px solid #1111;background:#111;color:#fff;font-weight:700;line-height:34px;cursor:pointer;transition:transform .12s ease,filter .15s ease,background .2s ease;-webkit-tap-highlight-color:transparent}.wc-head-btn:hover{transform:translateY(-1px)}.wc-head-btn:active{transform:translateY(0)}.wc-head-btn.left{left:0}.wc-head-btn.right{right:0}.wc-head-btn.right.is-added{background:#0f5132;border-color:#0f5132;box-shadow:0 0 0 2px #b6e3c6 inset}.pos-badge{display:inline-block;padding:4px 10px;border-radius:12px;font-size:.85rem;font-weight:700;color:#fff;line-height:1;border:1px solid transparent;box-shadow:0 1px #0000000f inset,0 1px 6px #0000000f}.pos-badge.noun{background:#81c784;border-color:#6bbd72}.pos-badge.verb{background:#64b5f6;border-color:#52a6ec}.pos-badge.adj{background:#ffb74d;border-color:#f2a73a}.pos-badge.adv{background:#ba68c8;border-color:#ab59bb}.pos-badge.particle{background:#4db6ac;border-color:#44a79e}.pos-badge.counter{background:#f06292;border-color:#e65587}.pos-badge.default{background:#90a4ae;border-color:#8296a0}.kanji{font-size:2.2rem;font-weight:800;color:#222;margin:6px 0 2px}.reading{font-size:1.3rem;color:#444;margin-bottom:10px}.meaning-box{margin-top:14px;padding:12px;border:1px dashed #aaa;background:#fff;color:#333;border-radius:8px;cursor:pointer;transition:background .2s ease,border-color .2s ease}.meaning-box:hover{background:#f1f1f1}.icon-btn{display:inline-grid;place-items:center;width:40px;height:40px;padding:0;border:none;border-radius:10px;background:#00000014;color:#111;cursor:pointer;transition:transform .08s ease,background .15s ease,opacity .2s ease}.icon-btn:hover{background:#0000001f}.icon-btn:active{transform:translateY(1px) scale(.98)}.icon-btn:disabled{opacity:.55;cursor:not-allowed;transform:none}.audio-area{display:none}.audio-button{width:44px;height:44px;border-radius:12px;background:#0000000f}.audio-button:hover{background:#0000001f}.navigation{margin-top:18px;display:flex;gap:12px;justify-content:center;align-items:center}button:disabled{opacity:.55;color:#222!important;cursor:not-allowed;transform:none!important}.wc-challenge-btn{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);padding:6px 18px;border-radius:999px;border:1px solid #e5e7eb;background:#fff;box-shadow:0 6px 12px #0000001f,0 0 0 1px #ffffffe6 inset;font-size:.9rem;font-weight:600;cursor:pointer;-webkit-tap-highlight-color:transparent}.wc-challenge-btn:hover{background:#f3f4f6}.wc-challenge-btn:active{transform:translate(-50%,1px)}@media(max-width:360px){.word-card{padding:16px 12px 32px}.wc-head{height:34px}.wc-head-title{gap:6px}.wc-head-btn{height:34px;line-height:32px;padding:0 10px}.pos-badge{padding:3px 8px;font-size:.8rem}.kanji{font-size:2rem}.reading{font-size:1.1rem}.wq-progress-wrap{max-width:calc(100% - 48px);margin:0 auto var(--space-3, 12px)}}.issueReportOverlay{position:fixed;inset:0;z-index:9999;background:color-mix(in srgb,var(--color-text) 28%,transparent);display:flex;align-items:center;justify-content:center;padding:var(--space-6)}.issueReportDialog{inline-size:min(100%,28rem);max-block-size:min(82vh,38rem);max-height:min(82vh,38rem);border-radius:var(--radius-16);border:var(--stroke-1) solid var(--color-border);background:var(--color-surface);box-shadow:var(--shadow-1);overflow:hidden;display:flex;flex-direction:column;min-block-size:0;min-height:0}.issueReportHeader{display:flex;align-items:center;justify-content:space-between;padding:var(--space-5) var(--space-6);border-bottom:var(--stroke-1) solid var(--color-border);flex:0 0 auto}.issueReportTitle{margin:0;font-weight:800;color:var(--color-text)}.issueReportClose{inline-size:calc(var(--space-6) + var(--space-2));block-size:calc(var(--space-6) + var(--space-2));border-radius:var(--radius-12);border:var(--stroke-1) solid var(--color-border);background:transparent;color:var(--color-muted)}.issueReportClose:focus-visible{outline:none;box-shadow:0 0 0 var(--space-2) color-mix(in srgb,var(--color-primary) 35%,transparent)}.issueReportBody{padding:var(--space-6);overflow:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;flex:1 1 auto;min-block-size:0;min-height:0}.issueReportChips{display:flex;flex-wrap:wrap;gap:var(--space-3);margin-bottom:var(--space-6)}.issueReportChip{padding:var(--space-3) var(--space-4);border-radius:var(--radius-12);border:var(--stroke-1) solid var(--color-border);background:color-mix(in srgb,var(--color-surface) 70%,transparent);color:var(--color-text);transition:transform var(--motion-fast) var(--motion-ease)}.issueReportChip:hover{transform:translateY(calc(var(--space-2) * -1))}.issueReportChip.isActive{background:color-mix(in srgb,var(--color-primary) 14%,transparent);border-color:color-mix(in srgb,var(--color-primary) 45%,var(--color-border))}.issueReportLabel{display:block;margin-bottom:var(--space-3);color:var(--color-muted)}.issueReportTextarea{width:100%;padding:var(--space-4);border-radius:var(--radius-12);border:var(--stroke-1) solid var(--color-border);background:transparent;color:var(--color-text);resize:vertical}.issueReportTextarea:focus-visible{outline:none;box-shadow:0 0 0 var(--space-2) color-mix(in srgb,var(--color-primary) 35%,transparent)}.issueReportHint{margin-top:var(--space-4);color:var(--color-muted)}.issueReportFooter{display:flex;justify-content:flex-end;gap:var(--space-3);padding:var(--space-5) var(--space-6);border-top:var(--stroke-1) solid var(--color-border);flex:0 0 auto}.issueReportAction{padding:var(--space-3) var(--space-5);border-radius:var(--radius-12);border:var(--stroke-1) solid var(--color-border);background:transparent;color:var(--color-text)}.issueReportAction--primary{border-color:color-mix(in srgb,var(--color-primary) 55%,var(--color-border));background:color-mix(in srgb,var(--color-primary) 18%,transparent)}.issueReportAction:disabled{opacity:.6}.issueReportBtn{position:absolute;inset-block-start:var(--space-8);z-index:6;inline-size:calc(var(--space-6) + var(--space-6) + var(--space-2));block-size:calc(var(--space-6) + var(--space-6) + var(--space-2));background:transparent;border:none;box-shadow:none;border-radius:9999px;color:color-mix(in srgb,var(--color-primary) 92%,var(--color-text));display:inline-flex;align-items:center;justify-content:center;transition:transform var(--motion-fast) var(--motion-ease),background var(--motion-fast) var(--motion-ease),box-shadow var(--motion-fast) var(--motion-ease)}.issueReportBtn--left{inset-inline-start:var(--space-3)}.issueReportBtn--right{inset-inline-end:var(--space-3)}.issueReportBtn__icon{inline-size:calc(var(--space-6) + var(--space-3));block-size:calc(var(--space-6) + var(--space-3))}.issueReportBtn svg{inline-size:100%;block-size:100%;stroke:currentColor;fill:none}.issueReportBtn:hover{transform:translateY(calc(var(--space-2) * -1));background:color-mix(in srgb,var(--color-primary) 10%,transparent)}.issueReportBtn:active{transform:translateY(0)}.issueReportBtn:focus-visible{outline:none;background:color-mix(in srgb,var(--color-primary) 12%,transparent);box-shadow:0 0 0 var(--space-2) color-mix(in srgb,var(--color-primary) 35%,transparent)}.rh-wrap{display:flex;align-items:center;gap:10px;padding:10px 12px;position:sticky;top:0;z-index:10;background:#0b0c0d}.rh-back,.rh-flag{width:36px;height:36px;border-radius:999px;border:none;display:flex;align-items:center;justify-content:center;background:transparent;color:#e9f0ee;font-size:24px}.rh-flag{color:#ff4d4f}.rh-track{flex:1;height:10px;background:#1c2a21;border-radius:999px;overflow:hidden}.rh-fill{height:100%;background:#1ecf7a}.rh-page{color:#e9f0ee;font-weight:600;min-width:60px;text-align:center}.sc-card{background:#1f1f1f;border-radius:18px;padding:16px 18px 14px;margin:16px 16px 12px;box-shadow:0 4px 18px #00000059}.sc-image{border-radius:14px;overflow:hidden;background:#111;margin-bottom:14px}.sc-image img{width:100%;display:block;border-radius:12px}.sc-text{font-size:28px;line-height:1.6;color:#f3f3f3;word-break:keep-all}.sc-text ruby rt{font-size:.5em;color:#c9c9c9}.sc-word{position:relative;padding:0 .04em;cursor:pointer;border-bottom:3px solid #3f6ef3}.sc-word:active{transform:translateY(1px);opacity:.9}.sc-tr{margin-top:10px;color:#cfcfcf;font-size:15px}:root{--ba-bg: rgba(30, 30, 30, .95);--ba-btn-bg: #222;--ba-btn-bg-hover: #333;--ba-primary: #e74c3c;--ba-ok: #2ecc71;--ba-active: #2563eb;--ba-shadow: 0 8px 24px rgba(0,0,0,.35);--ba-icon-size: 22px}@media(prefers-color-scheme:light){:root{--ba-bg: rgba(255, 255, 255, .96);--ba-btn-bg: #f3f4f6;--ba-btn-bg-hover: #e5e7eb;--ba-shadow: 0 8px 24px rgba(0,0,0,.08)}}.ba-wrap{position:fixed;left:0;right:0;bottom:0;display:flex;justify-content:center;padding:12px 12px calc(12px + env(safe-area-inset-bottom,0px));z-index:1000;pointer-events:none}.ba-pill{pointer-events:auto;display:flex;gap:12px;background:var(--ba-bg);padding:8px 14px;border-radius:999px;box-shadow:var(--ba-shadow);backdrop-filter:saturate(140%) blur(6px)}.ba-btn{width:44px;height:44px;border-radius:50%;border:none;background:var(--ba-btn-bg);color:#111;display:inline-flex;align-items:center;justify-content:center;font-size:var(--ba-icon-size);transition:transform .1s ease,background .15s ease,box-shadow .15s ease;outline:none}@media(prefers-color-scheme:dark){.ba-btn{color:#fff}}.ba-btn:hover{background:var(--ba-btn-bg-hover);transform:scale(1.05)}.ba-btn:active{transform:scale(.96)}.ba-btn:focus-visible{box-shadow:0 0 0 3px #2563eb59}.ba-btn.ba-primary{background:var(--ba-primary);color:#fff}.ba-btn.ba-ok{background:var(--ba-ok);color:#fff}.ba-btn.ba-active{background:var(--ba-active);color:#fff}.ba-btn.ba-ring{background:transparent;color:inherit;box-shadow:inset 0 0 0 2px #78787880}.ba-btn.ba-ring:hover{box-shadow:inset 0 0 0 2px #787878cc}.ba-safezone{height:env(safe-area-inset-bottom,0px)}.wp-overlay{position:fixed;inset:0;background:#0000008c;display:flex;align-items:flex-end;z-index:1000}.wp-sheet{width:100%;max-height:78vh;overflow-y:auto;background:#1c151f;color:#f3f3f3;border-top-left-radius:18px;border-top-right-radius:18px;padding:10px 14px 22px;animation:wp-rise .16s ease-out;box-shadow:0 -10px 30px #00000080}@keyframes wp-rise{0%{transform:translateY(32px);opacity:.95}to{transform:translateY(0);opacity:1}}.wp-handle{width:46px;height:4px;border-radius:999px;background:#fff2;margin:6px auto 10px}.wp-head{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:6px}.wp-title{display:flex;align-items:baseline;gap:8px}.wp-word{font-size:22px;font-weight:800}.wp-romaji{color:#91a3b0;font-size:14px}.wp-actions{display:flex;gap:6px}.wp-icon{width:34px;height:34px;border-radius:999px;border:none;background:#2a2d2f;color:#e9f0ee;cursor:pointer}.wp-tags{display:flex;flex-wrap:wrap;gap:6px;margin:6px 0 8px}.wp-tag{background:#6d4bc7;color:#fff;padding:2px 8px;border-radius:10px;font-size:12px;font-weight:700}.wp-content{padding-bottom:8px}.wp-section{margin:12px 0}.wp-section h4{margin:0 0 8px;color:#c7d0d9;font-size:13px;letter-spacing:.4px}.wp-list{margin:0;padding-left:18px}.wp-grid{display:grid;grid-template-columns:1fr;gap:8px}@media(min-width:540px){.wp-grid{grid-template-columns:1fr 1fr}}.wp-card{background:#3d2759;border-radius:12px;padding:12px;color:#fff;margin:8px 0}.wp-ex-jp{font-size:16px;margin-bottom:4px}.wp-ex-en{font-size:14px;color:#d7e0e6}.wp-empty{opacity:.8;text-align:center;padding:18px 0}.reader-hub{background:var(--color-reader-bg, #0f0f10);color:var(--color-text, #eee);padding:0 0 24px}.stage.stage--compact{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.06)}.stage-left{display:flex;align-items:center;gap:10px}.stage-label{font-size:18px;font-weight:700}.percent-pill{font-size:12px;padding:4px 8px;border-radius:8px;background:#2a2a2b;color:#ddd}.stage-right{display:flex;align-items:center;gap:6px}.stage .chev{opacity:.8}.level-section{padding:10px 12px 4px}.level-head{display:flex;align-items:center;justify-content:space-between;gap:12px}.level-title{display:flex;align-items:center;gap:12px}.level-title h2{font-size:26px;letter-spacing:.2px}.lock-hint-inline{display:flex;align-items:center;gap:8px;color:#cfcfcf88;font-size:14px}.progress-dots{display:flex;gap:6px}.progress-dots .dot{width:10px;height:10px;border-radius:50%;background:#22c55e;opacity:.95}.cards-row{display:flex;gap:14px;overflow-x:auto;padding:12px 2px 8px;contain:layout paint;transform:translateZ(0);-webkit-transform:translateZ(0)}.cards-row::-webkit-scrollbar{height:6px}.cards-row::-webkit-scrollbar-thumb{background:#2a2a2b;border-radius:8px}.story-card{width:260px;min-width:260px;background:#1a1a1b;border-radius:18px;box-shadow:0 1px #ffffff0a,0 12px 24px #00000059;overflow:hidden;cursor:pointer;position:relative;will-change:transform,opacity;transform:translateZ(0);backface-visibility:hidden}.story-card.locked{cursor:default;opacity:.92}.story-card:after{content:"";position:absolute;inset:0;background:#fff0;transition:background .15s ease}.story-card:hover:after{background:#ffffff0f}.card-image img{display:block;width:100%;height:160px;object-fit:cover;backface-visibility:hidden;transform:translateZ(0)}.card-body{padding:10px 12px 14px;background:#171717}.meta-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.tag{color:#cfcfcf;font-size:13px}.lockmark{color:#cfcfcfb2}.card-title{font-size:16px;font-weight:700;line-height:1.35;margin:2px 0 6px;color:#eee}.time{color:#bcbcbc;font-size:12px}.story-wrap{background:var(--color-reader-bg, #0b0c0d);display:flex;flex-direction:column;box-sizing:border-box;padding:var(--space-3, 12px) var(--space-4, 16px) var(--space-5, 20px)}.story-header{background:var(--color-reader-bg, #0b0c0d);padding:var(--space-2, 8px) var(--space-3, 12px);display:flex;align-items:center}.story-content{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:var(--space-4, 16px)}.pager{text-align:center;font-size:16px;font-weight:600;color:var(--color-reader-pager, #e9f0ee);margin-top:var(--space-3, 12px);margin-bottom:var(--space-4, 20px)}.toggles{display:flex;justify-content:center;gap:var(--space-3, 16px);margin:var(--space-3, 10px) 0;color:var(--color-reader-toggle, #cfd8dc);font-size:14px}.toggles input{margin-right:4px}@media(max-width:360px){.story-wrap{padding-inline:var(--space-3, 12px)}}.kanji-wrap{min-height:100vh;background:var(--color-bg, #f6f7f6);padding-bottom:96px;font-family:-apple-system,BlinkMacSystemFont,SF Pro Text,Helvetica Neue,Arial,sans-serif}.kanji-header{position:sticky;top:0;z-index:10;display:grid;grid-template-columns:40px 1fr 40px;align-items:center;gap:8px;padding:12px 16px;background:#fff;border-bottom:1px solid rgba(0,0,0,.06)}.kanji-back,.kanji-info{width:36px;height:36px;border-radius:999px;border:none;background:#f2f3f2;font-size:16px}.kanji-title{text-align:center}.kanji-title h1{font-size:17px;font-weight:600;margin:0}.kanji-title p{margin:2px 0 0;font-size:12px;color:#8e8e93}.kanji-levels{display:flex;gap:8px;padding:12px 16px}.kanji-level{flex:1;padding:8px 0;border-radius:999px;border:none;font-size:14px;font-weight:600;background:#eef0ef;color:#6b6b6b}.kanji-level.active{background:#3aa87a;color:#fff}.kanji-modes{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:8px 16px 16px}.kanji-card{background:#fff;border-radius:16px;padding:16px;text-align:center;box-shadow:0 4px 12px #0000000a}.kanji-card .icon{width:44px;height:44px;margin:0 auto 8px;border-radius:999px;background:#eaf5ef;display:grid;place-items:center;font-size:20px;color:#3aa87a}.kanji-card h3{margin:4px 0 2px;font-size:15px;font-weight:600}.kanji-card p{margin:0;font-size:12px;color:#8e8e93}.kanji-card.disabled{opacity:.45;position:relative}.kanji-card .soon{position:absolute;top:10px;right:10px;font-size:11px;padding:2px 8px;border-radius:999px;background:#e6f0eb;color:#3aa87a}.kanji-today{padding:0 16px 16px}.today-card{position:relative;display:grid;grid-template-columns:64px 1fr;gap:12px;padding:16px;background:#fff;border-radius:16px;box-shadow:0 4px 12px #0000000a}.today-kanji{width:64px;height:64px;border-radius:12px;background:#eaf5ef;display:grid;place-items:center;font-size:36px;font-weight:600}.today-info strong{display:block;font-size:16px}.today-info span{font-size:14px;color:#8e8e93}.progress{margin-top:6px;height:6px;border-radius:999px;background:#eef0ef;overflow:hidden}.progress .bar{height:100%;background:#3aa87a}.today-info small{font-size:12px;color:#8e8e93}.xp{position:absolute;top:12px;right:12px;font-size:12px;padding:4px 8px;border-radius:999px;background:#e6f0eb;color:#3aa87a;font-weight:600}.kanji-list{padding:0 16px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;align-content:start}.kanji-list-header{display:flex;justify-content:space-between;align-items:center;margin:12px 0;grid-column:1 / -1}.kanji-list-header h2{font-size:16px;margin:0}.filter{border:none;background:#f2f3f2;padding:6px 12px;border-radius:999px;font-size:13px}.kanji-row{display:grid;grid-template-columns:44px 1fr 28px;align-items:center;gap:10px;padding:12px;background:#fff;border-radius:14px;box-shadow:0 2px 6px #00000008;min-width:0;cursor:pointer}.kanji-char{width:44px;height:44px;border-radius:14px;border:2px solid #e0e0e0;display:grid;place-items:center;font-size:20px}.kanji-meta strong{display:block;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.kanji-meta span{font-size:12px;color:#8e8e93;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bookmark{border:none;background:none;font-size:18px;color:#c7c7cc}.bookmark.active{color:#3aa87a}.kanji-cta{position:fixed;bottom:0;left:0;right:0;padding:12px 16px 20px;background:linear-gradient(to top,#fff 80%,#fff0);display:grid;grid-template-columns:1fr 1fr;gap:12px}.btn-outline{border-radius:14px;border:2px solid #3aa87a;background:#fff;color:#3aa87a;font-size:15px;font-weight:600;padding:14px 0}.btn-primary{border-radius:14px;border:none;background:#3aa87a;color:#fff;font-size:15px;font-weight:600;padding:14px 0}@media(max-width:360px){.kanji-list{grid-template-columns:1fr}}:root{--line-1: 1px;--kanji-stroke-width: 6;--font-ja-serif: "Noto Serif JP", serif}.ks-wrap{min-height:100dvh;width:100%;background:var(--color-bg);color:var(--color-text);display:flex;flex-direction:column;gap:var(--space-4);padding:var(--space-4)}.ks-top{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:var(--space-3)}.ks-ico{width:var(--space-10);height:var(--space-10);border-radius:var(--radius-16);border:var(--line-1) solid var(--color-border);background:var(--color-surface);box-shadow:var(--shadow-1);display:grid;place-items:center;color:var(--color-text);cursor:pointer;transition:transform var(--motion-duration-200) var(--motion-ease-out)}.ks-ico:active{transform:scale(.98)}.ks-ico:focus-visible{outline:2px solid var(--color-focus);outline-offset:2px}.ks-progress{display:grid;gap:var(--space-2);justify-items:center}.ks-progress-text{font-weight:700;letter-spacing:.02em;color:var(--color-text)}.ks-bar{width:100%;height:var(--space-2);border-radius:var(--radius-12);background:var(--color-surface-2);overflow:hidden;border:var(--line-1) solid var(--color-border)}.ks-bar-fill{height:100%;background:var(--color-primary);border-radius:var(--radius-12);transition:width var(--motion-duration-200) var(--motion-ease-out)}.ks-title{display:grid;justify-items:center;gap:var(--space-2);padding-top:var(--space-2)}.ks-kanji{font-size:2.25rem;line-height:1;font-weight:800}.ks-meaning{font-size:1.125rem;color:var(--color-text);opacity:.9}.ks-more{background:transparent;border:none;color:var(--color-primary);text-decoration:underline;cursor:pointer;padding:var(--space-1) var(--space-2);border-radius:var(--radius-12)}.ks-more:focus-visible{outline:2px solid var(--color-focus);outline-offset:2px}.ks-board{position:relative;margin-top:var(--space-2);border-radius:var(--radius-16);border:var(--line-1) solid var(--color-border);background:var(--color-surface);overflow:hidden;box-shadow:var(--shadow-1)}.ks-canvas-wrap{position:relative;width:min(90vw,22rem);aspect-ratio:1 / 1;margin:var(--space-4) auto}.ks-canvas{width:100%;height:100%;display:block;touch-action:none}.ks-canvas-guide{position:absolute;inset:0;pointer-events:none;z-index:1}.ks-grid{position:absolute;inset:0;pointer-events:none;opacity:.55;z-index:2}.ks-grid-v{position:absolute;left:50%;top:0;bottom:0;width:0;border-left:var(--line-1) dashed var(--color-border)}.ks-grid-h{position:absolute;top:50%;left:0;right:0;height:0;border-top:var(--line-1) dashed var(--color-border)}.ks-canvas-draw{position:relative;z-index:3}.ks-pause-overlay{position:absolute;inset:0;display:grid;place-items:center;background:var(--color-overlay);z-index:4}.ks-pause-pill{padding:var(--space-2) var(--space-4);border-radius:var(--radius-16);background:var(--color-surface);border:var(--line-1) solid var(--color-border);box-shadow:var(--shadow-1);font-weight:800}.ks-tools{display:flex;justify-content:center;gap:var(--space-6);padding:var(--space-2) 0}.ks-tool{width:var(--space-14);height:var(--space-14);border-radius:var(--radius-16);border:var(--line-1) solid var(--color-border);background:var(--color-surface);box-shadow:var(--shadow-1);display:grid;place-items:center;cursor:pointer;transition:transform var(--motion-duration-200) var(--motion-ease-out),background var(--motion-duration-200) var(--motion-ease-out)}.ks-tool.is-active{background:var(--color-primary);color:var(--color-on-primary);border-color:transparent}.ks-tool.is-off{opacity:.7}.ks-tool:active{transform:scale(.98)}.ks-tool:focus-visible{outline:2px solid var(--color-focus);outline-offset:2px}.ks-actions{display:grid;gap:var(--space-3);padding-bottom:var(--space-2)}.ks-skip{justify-self:center;background:transparent;border:none;text-decoration:underline;color:var(--color-text);opacity:.85;padding:var(--space-2) var(--space-4);border-radius:var(--radius-12);cursor:pointer}.ks-skip:focus-visible{outline:2px solid var(--color-focus);outline-offset:2px}.ks-next{width:100%;border:none;border-radius:var(--radius-16);padding:var(--space-4);background:var(--color-primary);color:var(--color-on-primary);font-weight:800;box-shadow:var(--shadow-1);cursor:pointer;transition:transform var(--motion-duration-200) var(--motion-ease-out)}.ks-next:active{transform:scale(.99)}.ks-next:focus-visible{outline:2px solid var(--color-focus);outline-offset:2px}@media(min-width:48rem){.ks-wrap{padding:var(--space-6)}.ks-canvas-wrap{width:min(70vw,26rem)}}.legal{max-width:var(--layout-max-width);margin:0 auto;padding:var(--space-6);padding-bottom:calc(var(--space-10) + env(safe-area-inset-bottom));border-radius:var(--radius-xl);background:var(--color-bg-surface);border:1px solid var(--color-border-subtle);box-shadow:var(--shadow-soft);color:var(--color-text-main);font-size:.85rem;line-height:1.7}.legal>h1{font-size:1.1rem;font-weight:600;color:var(--color-text-strong);margin-bottom:var(--space-3)}.legal-lead{font-size:.85rem;color:var(--color-text-muted);margin-bottom:var(--space-4)}.legal-section{margin-bottom:var(--space-4)}.legal-section:last-of-type{margin-bottom:0}.legal-section>h2{font-size:.95rem;font-weight:600;color:var(--color-text-strong);margin-bottom:var(--space-2)}.legal-section p{margin:0 0 var(--space-2)}.legal-section p:last-child{margin-bottom:0}.legal-section ol,.legal-section ul{margin:0 0 var(--space-2);padding-left:var(--space-5)}.legal-section li{margin-bottom:var(--space-1)}.legal-dates{margin-top:var(--space-4);font-size:.8rem;color:var(--color-text-muted)}.legal a{color:var(--color-accent);text-decoration:underline}@media(min-width:768px){.legal{margin-top:var(--space-6);margin-bottom:var(--space-8)}}:root{color-scheme:light dark;--bg: #f7f8fa;--surface: #ffffff;--surface-2: #f1f5f9;--border: #e5e7eb;--text: #121417;--text-muted: #4b5563;--icon: var(--text);--accent: #16a34a;--danger: #ef4444;--warn: #f59e0b;--info: #0ea5e9;--link: var(--info);--focus-ring: #60a5fa;--overlay: rgba(2, 6, 23, .4);--disabled: rgba(0, 0, 0, .35);--shadow: 0 1px 2px rgba(16, 24, 40, .06), 0 8px 24px rgba(16, 24, 40, .06);--tab-bg: var(--surface-2);--tab-active-bg: var(--surface);--card-bg: var(--surface);--progress-bg: rgba(2, 6, 23, .08);--progress-fill: var(--accent);--layout-header-h: 5rem;--bn-height: 4.5rem;--layout-bottom-h: var(--bn-height);--color-bottom-nav-bg: #05060a;--color-bottom-nav-shell-bg: var(--color-bottom-nav-bg);--color-bottom-nav-border: rgba(15, 23, 42, .8);--color-bottom-nav-icon-active: #0a84ff;--color-bottom-nav-icon-inactive: #9ca3af;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--radius-12: .75rem;--radius-16: 1rem;--radius-pill: 999px;--line-1: .0625rem;--shadow-1: var(--shadow);--motion-ease: cubic-bezier(.2, .8, .2, 1);--motion-150: .15s;--motion-200: .2s;--motion-250: .25s;--color-bg: var(--bg);--color-text: var(--text);--color-border: var(--border);--border-color: var(--color-border);--divider-color: var(--color-border);--card-border: var(--color-border);--color-divider: var(--color-border);--color-separator: var(--color-border);--color-surface: var(--surface);--color-card: var(--card-bg);--color-header-bg: var(--color-bottom-nav-bg);--color-header-fg: #ffffff;--color-header-border: rgba(255, 255, 255, .08);--color-xp-accent: var(--accent);--color-panel-bg: rgba(17, 18, 21, .88);--color-panel-border: rgba(255, 255, 255, .14);--color-panel-rail: rgba(255, 255, 255, .14)}@supports (color: color-mix(in oklab,white,black)){:root{--color-border: color-mix(in oklab, var(--border) 92%, transparent)}}@media(prefers-color-scheme:dark){:root{--bg: #0b0f14;--surface: #121821;--surface-2: #0f141b;--border: #25313f;--text: #e6edf3;--text-muted: #b6c2cd;--icon: var(--text);--accent: #22c55e;--danger: #f87171;--warn: #fbbf24;--info: #38bdf8;--link: var(--info);--focus-ring: #93c5fd;--overlay: rgba(0, 0, 0, .55);--disabled: rgba(255, 255, 255, .38);--shadow: 0 1px 2px rgba(0, 0, 0, .35), 0 12px 28px rgba(0, 0, 0, .45);--progress-bg: rgba(255, 255, 255, .12);--progress-fill: var(--accent);--color-bottom-nav-bg: #05060a;--color-bottom-nav-shell-bg: var(--color-bottom-nav-bg);--color-bottom-nav-border: rgba(15, 23, 42, .9);--color-bottom-nav-icon-active: #0a84ff;--color-bottom-nav-icon-inactive: #9ca3af;--color-bg: var(--bg);--color-text: var(--text);--color-border: var(--border);--border-color: var(--color-border);--divider-color: var(--color-border);--card-border: var(--color-border);--color-divider: var(--color-border);--color-separator: var(--color-border);--color-surface: var(--surface);--color-card: var(--card-bg);--color-xp-accent: var(--accent);--color-header-bg: var(--color-bottom-nav-bg);--color-header-fg: #ffffff;--color-header-border: rgba(255, 255, 255, .08);--color-panel-bg: rgba(17, 18, 21, .88);--color-panel-border: rgba(255, 255, 255, .14);--color-panel-rail: rgba(255, 255, 255, .14)}@supports (color: color-mix(in oklab,white,black)){:root{--color-border: color-mix(in oklab, var(--border) 92%, transparent)}}}:root[data-theme=light]{--bg: #f7f8fa;--surface: #ffffff;--surface-2: #f1f5f9;--border: #e5e7eb;--text: #121417;--text-muted: #4b5563;--icon: var(--text);--accent: #16a34a;--danger: #ef4444;--warn: #f59e0b;--info: #0ea5e9;--link: var(--info);--focus-ring: #60a5fa;--overlay: rgba(2, 6, 23, .4);--disabled: rgba(0, 0, 0, .35);--shadow: 0 1px 2px rgba(16, 24, 40, .06), 0 8px 24px rgba(16, 24, 40, .06);--tab-bg: var(--surface-2);--tab-active-bg: var(--surface);--card-bg: var(--surface);--progress-bg: rgba(2, 6, 23, .08);--progress-fill: var(--accent);--color-bottom-nav-bg: #05060a;--color-bottom-nav-shell-bg: var(--color-bottom-nav-bg);--color-bottom-nav-border: rgba(15, 23, 42, .8);--color-bottom-nav-icon-active: #0a84ff;--color-bottom-nav-icon-inactive: #6b7280;--color-bg: var(--bg);--color-text: var(--text);--color-border: var(--border);--border-color: var(--color-border);--divider-color: var(--color-border);--card-border: var(--color-border);--color-divider: var(--color-border);--color-separator: var(--color-border);--color-surface: var(--surface);--color-card: var(--card-bg);--color-xp-accent: var(--accent);--color-header-bg: var(--color-bottom-nav-bg);--color-header-fg: #ffffff;--color-header-border: rgba(255, 255, 255, .08);--color-panel-bg: rgba(17, 18, 21, .88);--color-panel-border: rgba(255, 255, 255, .14);--color-panel-rail: rgba(255, 255, 255, .14)}:root[data-theme=dark]{--bg: #0b0f14;--surface: #121821;--surface-2: #0f141b;--border: #25313f;--text: #e6edf3;--text-muted: #b6c2cd;--icon: var(--text);--accent: #22c55e;--danger: #f87171;--warn: #fbbf24;--info: #38bdf8;--link: var(--info);--focus-ring: #93c5fd;--overlay: rgba(0, 0, 0, .55);--disabled: rgba(255, 255, 255, .38);--shadow: 0 1px 2px rgba(0, 0, 0, .35), 0 12px 28px rgba(0, 0, 0, .45);--tab-bg: var(--surface-2);--tab-active-bg: var(--surface);--card-bg: var(--surface);--progress-bg: rgba(255, 255, 255, .12);--progress-fill: var(--accent);--color-bottom-nav-bg: #05060a;--color-bottom-nav-shell-bg: var(--color-bottom-nav-bg);--color-bottom-nav-border: rgba(15, 23, 42, .9);--color-bottom-nav-icon-active: #0a84ff;--color-bottom-nav-icon-inactive: #9ca3af;--color-bg: var(--bg);--color-text: var(--text);--color-border: var(--border);--border-color: var(--color-border);--divider-color: var(--color-border);--card-border: var(--color-border);--color-divider: var(--color-border);--color-separator: var(--color-border);--color-surface: var(--surface);--color-card: var(--card-bg);--color-xp-accent: var(--accent);--color-header-bg: var(--color-bottom-nav-bg);--color-header-fg: #ffffff;--color-header-border: rgba(255, 255, 255, .08);--color-panel-bg: rgba(17, 18, 21, .88);--color-panel-border: rgba(255, 255, 255, .14);--color-panel-rail: rgba(255, 255, 255, .14)}@supports (color: color-mix(in oklab,white,black)){:root[data-theme=light],:root[data-theme=dark]{--color-border: color-mix(in oklab, var(--border) 92%, transparent)}}html,body{background:var(--bg);color:var(--text)}a{color:var(--link);text-decoration:none}a:hover{text-decoration:underline}::selection{background:color-mix(in oklab,var(--accent) 28%,transparent);color:var(--text)}@media(prefers-reduced-motion:no-preference){*{transition:background-color var(--motion-150) linear,color var(--motion-150) linear,border-color var(--motion-150) linear}}*::-webkit-scrollbar{width:var(--space-2);height:var(--space-2)}*::-webkit-scrollbar-thumb{background:color-mix(in oklab,var(--text) 20%,transparent);border-radius:var(--radius-pill);border:calc(var(--line-1) * 2) solid transparent;background-clip:padding-box}*::-webkit-scrollbar-track{background:transparent}@media(forced-colors:active){:root{--shadow: none}:where(button,[role=button],a,input,select,textarea):focus-visible{box-shadow:none;outline:2px solid CanvasText}}.app-surface{background:var(--surface);box-shadow:var(--shadow)}.app-border{border:var(--line-1) solid var(--border)}.text-muted{color:var(--text-muted)}.icon{color:var(--icon);fill:currentColor}.tabs{background:var(--tab-bg);border-radius:var(--radius-16);padding:var(--space-2)}.tab{color:var(--text-muted)}.tab.is-active{color:var(--text);background:var(--tab-active-bg);box-shadow:var(--shadow)}.lesson-card{background:var(--card-bg);border:var(--line-1) solid var(--border);box-shadow:var(--shadow);color:var(--text)}.lesson-card .count{color:var(--text-muted)}.progress{height:var(--space-2);border-radius:var(--radius-pill);background:var(--progress-bg);overflow:hidden}.progress>span{display:block;height:100%;border-radius:inherit;background:var(--progress-fill)}html{-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}:root{--space-8: .5rem;--space-1: calc(var(--space-8) / 8);--radius-12: calc(var(--space-8) * 1.5);--radius-16: calc(var(--space-8) * 2);--line-1: var(--space-1);--motion-200: .2s;--shadow-1: 0 calc(var(--space-1) * 2) calc(var(--space-8) * 1) color-mix(in oklab, #000 10%, transparent);--shadow-2: 0 calc(var(--space-1) * 3) calc(var(--space-8) * 1.5) color-mix(in oklab, #000 14%, transparent);--color-bg: #ffffff;--color-text: #0b0b0f;--color-surface: #ffffff;--color-surface-2: #f3f4f6;--color-surface-3: #e7e9ee;--color-border: color-mix(in oklab, var(--color-text) 12%, transparent);--color-ink: #0b0b0f;--color-shadow: #000000;--color-success-surface: #34c759;--color-danger-surface: #ff3b30;--color-warning-surface: #ffcc00;--color-info-surface: #0a84ff;--focus-ring: var(--color-info-surface);--bg: var(--color-bg);--text: var(--color-text);--color-avatar-fbf1e7: #fbf1e7;--color-avatar-e8c9a2: #e8c9a2;--color-avatar-e4b193: #e4b193;--color-avatar-acb557: #acb557;--color-avatar-5c65a5: #5c65a5;--color-avatar-67a134: #67a134;--color-avatar-b44339: #b44339;--color-avatar-615b5a: #615b5a;--color-avatar-644c35: #644c35;--color-avatar-573025: #573025;--color-avatar-292725: #292725}[data-theme=dark]{--color-bg: #0b0b0f;--color-text: #f5f7ff;--color-surface: #14151b;--color-surface-2: #1b1c24;--color-surface-3: #242635;--color-border: color-mix(in oklab, var(--color-text) 16%, transparent);--color-shadow: #000000;--bg: var(--color-bg);--text: var(--color-text);--color-avatar-fbf1e7: #fbf1e7;--color-avatar-e8c9a2: #e8c9a2;--color-avatar-e4b193: #e4b193;--color-avatar-acb557: #acb557;--color-avatar-5c65a5: #5c65a5;--color-avatar-67a134: #67a134;--color-avatar-b44339: #b44339;--color-avatar-615b5a: #615b5a;--color-avatar-644c35: #644c35;--color-avatar-573025: #573025;--color-avatar-292725: #292725}*,*:before,*:after{box-sizing:border-box}html,body{height:100%;min-height:100%}html{-webkit-text-size-adjust:100%;color-scheme:light dark}body{margin:0;background-color:var(--bg);color:var(--text);font-family:var( --font-ja-sans, system-ui, -apple-system, "Noto Sans JP", "Roboto", sans-serif );line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow-x:hidden;padding-left:max(0px,env(safe-area-inset-left));padding-right:max(0px,env(safe-area-inset-right));overflow-y:hidden}[hidden],.app-loading[hidden]{display:none!important}#root{height:100dvh;min-height:100dvh;overflow:hidden}img{max-width:100%;height:auto;display:block;border-radius:var(--radius-12)}:where(button,[role=button],a,input,select,textarea):focus-visible{outline:none;box-shadow:0 0 0 calc(var(--line-1) * 3) color-mix(in oklab,var(--focus-ring) 55%,transparent);border-radius:var(--radius-12)}@media(prefers-reduced-motion:reduce){*{transition:none!important;animation:none!important}}html,body,#root{height:100%}:root{--layout-header-total-h: calc( var(--layout-header-h) + env(safe-area-inset-top, 0) );--layout-ad-banner-h: calc(var(--space-2) * 7)}.app-shell{height:100dvh;min-height:100dvh;background:var(--color-bg, var(--bg));color:var(--color-text, var(--text));box-sizing:border-box;padding-top:var(--layout-header-total-h);display:flex;flex-direction:column;position:relative;overflow:hidden;isolation:isolate}.app-shell:before{content:"";position:fixed;left:0;right:0;bottom:0;height:calc(var(--layout-bottom-h) + var(--layout-ad-banner-h) + env(safe-area-inset-bottom,0));background:var(--color-bottom-nav-shell-bg, var(--color-bottom-nav-bg));z-index:30;pointer-events:none}.app-shell-header{position:fixed;inset-inline:0;top:0;height:var(--layout-header-total-h);padding-top:env(safe-area-inset-top,0);background:var(--color-header-bg);z-index:40;box-shadow:none}.app-content{flex:1 1 auto;min-height:0;max-width:1100px;width:100%;margin:0 auto;padding-bottom:calc(var(--layout-bottom-h) + var(--layout-ad-banner-h) + var(--space-4) + env(safe-area-inset-bottom,0));padding-top:var(--space-2);overflow-y:auto;-webkit-overflow-scrolling:touch;background:transparent;position:relative;z-index:10}.app-shell-bottom{position:fixed;inset-inline:0;bottom:var(--layout-ad-banner-h);height:calc(var(--layout-bottom-h) + env(safe-area-inset-bottom,0));z-index:40;display:flex;justify-content:center;align-items:flex-end;background:transparent}.app-shell-bottom>*{pointer-events:auto;width:100%;max-width:480px}.app-header{height:var(--layout-header-h);display:flex;align-items:center}.app-header__inner{width:100%;height:100%;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:var(--space-3);padding-inline:var(--space-3)}.hdr-left{display:flex;align-items:center;justify-content:flex-start}.hdr-placeholder{width:calc(var(--space-10));height:calc(var(--space-10))}.hdr-center{display:flex;align-items:center;justify-content:center;min-width:0;width:100%}.hdr-right{display:flex;align-items:center;justify-content:flex-end}.hdr-icon-btn{width:calc(var(--space-10));height:calc(var(--space-10));border-radius:var(--radius-pill);background:color-mix(in oklab,var(--color-header-fg) 10%,transparent);border:var(--line-1) solid color-mix(in oklab,var(--color-header-fg) 14%,transparent);display:grid;place-items:center;color:var(--color-header-fg);cursor:pointer}.hdr-ic{width:calc(var(--space-6));height:calc(var(--space-6));color:currentColor}.xpbar{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.xpbar.is-compact .xpbar-panel{width:min(100%,560px)}.xpbar-panel{width:min(100%,620px);border-radius:var(--radius-16);padding:var(--space-2) var(--space-3);background:#111215e0;border:var(--line-1) solid rgba(255,255,255,.14);box-shadow:var(--shadow-1);color:#fff;display:flex;flex-direction:column;justify-content:center;gap:var(--space-2)}.xpbar-row{display:flex;align-items:center;justify-content:space-between;gap:var(--space-2);min-width:0}.xpbar-lvPill{padding:var(--space-1) var(--space-3);border-radius:var(--radius-pill);background:#22c55e29;border:var(--line-1) solid rgba(34,197,94,.28);font-weight:800;letter-spacing:.2px;flex:0 0 auto}.xpbar-metrics{display:inline-flex;align-items:baseline;gap:var(--space-1);font-weight:800;min-width:0}.xpbar-per{color:#22c55ef2}.xpbar-rail{height:var(--space-2);border-radius:var(--radius-pill);background:#ffffff24;overflow:hidden}.xpbar-fill{display:block;height:100%;border-radius:inherit;background:#22c55ef2;transition:width var(--motion-200) var(--motion-ease)}
