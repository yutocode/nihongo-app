/* src/styles/Layout.css */

/* Header / BottomNav の高さを一元管理 */
:root {
  --layout-header-h: 64px;  /* Header の実高さ */
  --layout-bottom-h: 72px;  /* BottomNav の高さ（Global の --bn-height と合わせる） */
}

/* アプリ全体の外枠（全ページ共通） */
.app-shell {
  height: 100%;
  min-height: 100dvh;
  background: var(--color-bg, var(--bg));
  color: var(--color-text, var(--text));
  box-sizing: border-box;

  /* ヘッダー分だけ上に余白をあける（少し下げたいので +8px） */
  padding-top: calc(var(--layout-header-h) + 8px);

  /* 中身を縦に並べて、真ん中だけスクロールさせる */
  display: flex;
  flex-direction: column;
}

/* 固定ヘッダーのラッパー */
.app-shell-header {
  position: fixed;
  inset-inline: 0;
  top: 8px; /* 画面の一番上から 8px 下げる */
  height: var(--layout-header-h);
  z-index: 40;
}

/* メインコンテンツ：ここ「だけ」スクロールさせる */
.app-content {
  flex: 1 1 auto;
  min-height: 0;
  max-width: 1100px;
  width: 100%;
  margin: 0 auto;

  /* BottomNav + 余白 40px + セーフエリア分 をスクロール領域の中に含める */
  padding-bottom: calc(
    var(--layout-bottom-h) + 40px + env(safe-area-inset-bottom, 0px)
  );

  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* 固定ボトムナビのラッパー */
.app-shell-bottom {
  position: fixed;
  inset-inline: 0;
  bottom: 0;
  height: calc(
    var(--layout-bottom-h) + env(safe-area-inset-bottom, 0px)
  );
  z-index: 40;

  display: flex;
  justify-content: center;
  align-items: flex-end;

  /* 画面下を全て BottomNav と同じ色で塗る */
  background: var(
    --color-bottom-nav-shell-bg,
    var(--color-bottom-nav-bg, #05060a)
  );

  /* 中の BottomNav 以外はクリックさせない */
  pointer-events: none;
}

/* 中の BottomNav 本体（クリック可） */
.app-shell-bottom > * {
  pointer-events: auto;
  width: 100%;
  max-width: 480px;
}